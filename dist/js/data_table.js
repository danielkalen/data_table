!function(t){var e,n,r,i,a,s,o,l,u;return r=function(t){var e={exports:t},n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=function t(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},a=function t(e){if(!e||"[object Object]"!==r.call(e))return!1;var i=n.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!a)return!1;var s;for(s in e);return"undefined"==typeof s||n.call(e,s)};return e.exports=function t(){var e,n,r,s,o,l,u=arguments[0],c=1,d=arguments.length,p=!1;for("boolean"==typeof u?(p=u,u=arguments[1]||{},c=2):("object"!=typeof u&&"function"!=typeof u||null==u)&&(u={});c<d;++c)if(e=arguments[c],null!=e)for(n in e)r=u[n],s=e[n],u!==s&&(p&&s&&(a(s)||(o=i(s)))?(o?(o=!1,l=r&&i(r)?r:[]):l=r&&a(r)?r:{},u[n]=t(p,l,s)):"undefined"!=typeof s&&(u[n]=s));return u},e.exports}.call(this,{}),o=r,n=function(t){function e(t){var e=""+t,n=r.exec(e);if(!n)return e;var i,a="",s=0,o=0;for(s=n.index;s<e.length;s++){switch(e.charCodeAt(s)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}o!==s&&(a+=e.substring(o,s)),o=s+1,a+=i}return o!==s?a+e.substring(o,s):a}var n={exports:t},r=/["'&<>]/;return n.exports=e,n.exports}.call(this,{}),s=n,u={tableOuterwrap:function(t){var e,n,r,i,a;return e=t.ID,n=t.baseClass,a=t.minWidth,i=t.hasMobile,r=t.cellsHavePadding,"<div id='"+n+"-"+e+"' class='"+n+"-outerwrap {{loading}} {{noResults}} {{hasError}} "+(a?"_hasMinWidth":"")+" "+(i?"{{mobileVersion}}":"")+" "+(r?"_cellsHavePadding":"")+" '></div>"},table:function(t){var e,n;return n=t.baseClass,e=t.alignment,"<div class='"+n+" alignment---"+e+" sortDirection---{{sortDirection}}'> <div class='"+n+"-heading'> <div class='"+n+"-heading-row'></div> </div> <div class='"+n+"-body'></div> </div>"},loading:function(t){var e;return e=t.baseClass,"<div class='"+e+"-loading {{isVisible}}'> <div class='"+e+"-loading-innerwrap'> <div class='"+e+"-loading-icon'></div> <div class='"+e+"-loading-text'>Loading</div> </div> </div>"},noResults:function(t){var e,n,r,i,a;return e=t.baseClass,r=null!=(i=t.itemSingleLabel)?i:"Item",n=null!=(a=t.itemPluralLabel)?a:r+"s","<div class='"+e+"-noResults {{isVisible}}'> <div class='"+e+"-noResults-innerwrap'> <div class='"+e+"-noResults-icon'></div> <div class='"+e+"-noResults-text'> <div class='"+e+"-noResults-text-title'>No "+r+"s to Display</div> <div class='"+e+"-noResults-text-subtitle'>There are no matching "+n+" for the search query you've typed.</div> </div> </div> </div>"},error:function(t){var e;return e=t.baseClass,"<div class='"+e+"-error {{isVisible}}'> <div class='"+e+"-error-innerwrap'> <div class='"+e+"-error-icon'></div> <div class='"+e+"-error-text'> <div class='"+e+"-error-text-title'>A Fatal Error has Occured</div> <div class='"+e+'-error-text-subtitle\'>Report the following to the admin:<br />"{{errorMessage}}"</div> </div> </div> </div>'},pageStatus:function(t){var e,n;return e=t.baseClass,n=t.showPageStatus,"<div class='"+e+"-pageStatus "+(n?"is_visible":"")+"'> Showing {{rowRange}} of {{totalRows}} </div>"},pagination:function(t){var e;return e=t.baseClass,"<div class='"+e+"-pagination {{hasExtra}} {{isVisible}}'> <div class='"+e+"-pagination-item _paginationItem _back'> <div class='"+e+"-pagination-item-text'></div> </div> <div class='"+e+"-pagination-itemswrap _paginationItems'></div> <div class='"+e+"-pagination-item _paginationItem _extraIndicator'> <div class='"+e+"-pagination-item-text'></div> <select class='"+e+"-pagination-item-select'></select> </div> <div class='"+e+"-pagination-item _paginationItem _next'> <div class='"+e+"-pagination-item-text'></div> </div> </div>"},paginationItem:function(t){var e,n;return e=t.baseClass,n=t.value,"<div class='"+e+"-pagination-item _paginationItem'> <div class='"+e+"-pagination-item-text'>"+n+"</div> </div>"},headingCell:function(t){var e,n,r,i,a,s,o,l,u;return e=t.baseClass,n=null!=(a=t.extraClasses)?a:"",l=t.slug,r=null!=(s=t.icon)?s:"",i=t.label,u=null!=(o=t.style)?o:"","<div class='"+e+"-heading-row-cell "+n+" __"+l+"' data-slug='"+l+"' data-icon='"+r+"' "+u+"> <div class='"+e+"-heading-row-cell-text'>"+i+"</div> </div>"},row:function(t){var e,n,r,i,a;return e=t.baseClass,a=t.rowID,n=t.cells,r=null!=(i=t.drilldown)?i:"","<div class='"+e+"-body-row _tableRow {{drilldownState}}' data-row-id='"+a+"'> <div class='"+e+"-body-row-expandDrilldown _expandDrilldown'> <div class='"+e+"-body-row-expandDrilldown-icon'></div> </div> "+n+" <div class='"+e+"-body-row-drilldown _tableRowDrilldown'> "+r+" </div> </div>"},rowCell:function(t){var e,n,r,i,a,s,o,l,u;return e=t.baseClass,r=null!=(a=t.extraClasses)?a:"",i=t.label,n=t.column,o=t.slug,u=t.value,l=null!=(s=t.style)?s:"","<div class='"+e+"-body-row-cell __"+o+" "+r+"' data-slug='"+o+"' data-column='"+n+"' "+l+"> <div class='"+e+"-body-row-cell-innerwrap' title='"+i+"'>"+u+"</div> </div>"},searchField:function(t){var e,n;return e=t.baseClass,n=t.search,"<div class='"+e+"-search "+((null!=n?n.length:void 0)?"is_visible":"")+"'> <select class='"+e+"-search-select'></select> <input class='"+e+"-search-input' /> <div class='"+e+"-search-selectTrigger'></div> </div>"},ipDetails:function(t){var e,n,r,i;return e=t.baseClass,r=t.ipAddress,n=null!=(i=t.extra)?i:"","<div class='"+e+"-ipDetails _ipDetails' data-ip='"+r+"'> <div class='"+e+"-ipDetails-trigger _ipDetails-trigger'></div> <div class='"+e+"-ipDetails-content'>Loading IP Details</div> </div> "+n},ipDetailsItem:function(t){var e,n,r;return e=t.baseClass,n=t.label,r=t.value,"<div class='"+e+"-ipDetails-content-item'> <div class='"+e+"-ipDetails-content-item-label'>"+n+": </div> <div class='"+e+"-ipDetails-content-item-value'>"+r+"</div> </div>"},fields:function(t){var e,n;return e=t.baseClass,n=t.fields,"<div class='"+e+"-fieldGroup'>"+n+"</div>"},fieldsItem:function(t){var e,n,r;return e=t.baseClass,n=t.label,r=t.value,"<div class='"+e+"-fieldGroup-item'> <div class='"+e+"-fieldGroup-item-label'>"+n+": </div> <div class='"+e+"-fieldGroup-item-value'>"+s(r)+"</div> </div>"},button:function(t){var e,n,r,i,a;return n=t.baseClass,e=t.action,r=null!=(a=t.icon)?a:"",i=t.isMulti,"<div class='"+n+"-button _actionButton "+(i?"_isMulti":"")+"' data-action='"+e+"'> <div class='"+n+"-button-icon'>"+r+"</div> </div>"},actions:function(t){var e,n;return n=t.baseClass,e=t.actions,"<div class='"+n+"-actions'> <div class='"+n+"-actions-popup'>"+e+"</div> </div>"},actionsOverlay:function(){return"<div class='"+e.defaults.baseClass+"-actions-overlay'></div>"},actionsItem:function(t){var e,n,r,i,a,s;return n=t.baseClass,e=t.action,i=t.icon,a=t.label,r=null!=(s=t.customIconStyle)?s:"","<div class='"+n+"-actions-popup-item _actionButton _subActionButton' data-action='"+e+"' style='"+r+"'> <div class='"+n+"-actions-popup-item-icon'>"+i+"</div> <div class='"+n+"-actions-popup-item-text'>"+a+"</div> </div>"}},a={perPage:20,pageCountMax:10,minWidth:0,mobileWidth:736,cellsHavePadding:!1,hasMobile:!0,loadOnInit:!0,columns:[],search:[],percentage:{},baseClass:"DataTable",showPageStatus:!0,sortBy:"",alignment:"left",actions:!1,ipDataFetcher:function(e){return new Promise(function(n){return t.get("http://ipinfo.io/"+e,n,"JSON")})}},l={},l.compareValues=function(t,e){switch(!1){case typeof t!=typeof e:return t===e;case"string"!=typeof t:return t===""+e;case"number"!=typeof t:return t===parseFloat(e)}},l.toggleActionsPopup=function(e){var n,r;return n=e.data("isOpen"),n?(e.data("overlay").remove(),e.removeClass("is_visible")):(e.data("overlay",r=t(u.actionsOverlay())),e.addClass("is_visible"),r.appendTo(document.body).one("click",function(){return l.toggleActionsPopup(e)})),e.data("isOpen",!n)},l.getBreakdownTotal=function(t,e){switch(!1){case 0!==e.length:return 0;default:return e.map(function(e){return t[e]}).reduce(function(t,e){return t+e})}},l.normalizeColumns=function(t){var e,n,r,i,a,s,o,l;if(Array.isArray(t)){if(o={},"string"==typeof t[0])for(n=0,a=t.length;n<a;n++)i=t[n],o[i]={label:i};else if(null!=(l=t[0])?l.label:void 0)for(r=0,s=t.length;r<s;r++)e=t[r],o[e.label]=e}else o=t;for(i in o)e=o[i],null==e.label&&(e.label=i),null==e.slug&&(e.slug=e.label.toLowerCase().replace(/\W/g,"_")),null==e.type&&(e.type="text");return o},l.getBreakdownBarWidth=function(t,e){return t.breakdownBarTotal/e*82},l.genHeaderCellStyle=function(t){var e;return e="",t.width&&(e+="max-width: "+t.width+";"),t.grow>=0&&(e+="flex-grow: "+t.grow+";"),e?"style='"+e+"'":""},l.genCellStyle=function(t){var e,n;return n="",t.width&&(n+="max-width: "+t.width+";"),t.color&&(e=this.colorMapping(t.color,t.colorType),n+="color: "+e+";"),t.customStyle&&(n+=t.customStyle),t.grow>=0&&(n+="flex-grow: "+t.grow+";"),n?"style='"+n+"'":""},l.genCellClassname=function(t){var e;return e="",t.sortable&&(e+=" _isSortable {{currentSort}}"),t.noLabel&&(e+=" _noLabel"),t.isLink&&(e+=" _isLink"),t.noEllipsis&&(e+=" _noEllipsis"),t.showOverflow&&(e+=" _showOverflow"),t.color&&(e+=" _hasColor"),"button"!==t.type&&"actions"!==t.type||(e+=" _isButton",t.alwaysCenter=!0),"breakdownBar"===t.type&&(e+=" _isBreakdownBar"),"ipDetails"===t.type&&(e+=" _isIpDetails"),"fields"===t.type&&(e+=" _isFields"),t.alwaysCenter&&(e+=" _alwaysCenter"),e},l.colorMapping=function(t,e){switch(null==e&&(e="name"),e){case"browser":switch(!1){case!t.includes("Firefox"):return this.colorMapping("orange");case!t.includes("Chrome"):return this.colorMapping("green");case!t.includes("Safari"):return this.colorMapping("blue");case!t.includes("Mobile Safari"):return this.colorMapping("blue");case!t.includes("IE"):return this.colorMapping("lightblue");case!t.includes("Edge"):return this.colorMapping("lightblue");case!t.includes("Opera"):return this.colorMapping("red");case!t.includes("Android"):return this.colorMapping("lightgreen");default:return"unknown"}break;case"platform":switch(t){case"Mac OS X":return this.colorMapping("black");case"Windows":return this.colorMapping("lightblue");case"Windows Phone":return this.colorMapping("purple");case"Linux":return this.colorMapping("darkyellow");case"iOS":return this.colorMapping("black");case"Android":return this.colorMapping("lightgreen");default:return"unknown"}break;case"satisfaction":switch(t){case"Excellent":return this.colorMapping("green");case"Normal":return this.colorMapping("yellow");case"Poor":return this.colorMapping("red");default:return"unknown"}break;case"name":switch(t){case"orange":return"#ee6f0e";case"green":return"#00ad09";case"blue":return"#4788f3";case"yellow":return"#eab71e";case"red":return"#cc4820";case"black":return"#181818";case"purple":return"#a020ba";case"lightblue":return"#0cb3ee";case"lightgreen":return"#78c257";case"darkyellow":return"#e8ac01"}break;default:return t}},l.iconMapping=function(t,e){switch(e){case"browser":switch(!1){case!t.includes("Firefox"):return"#";case!t.includes("Chrome"):return"%";case!t.includes("Safari"):return"$";case!t.includes("Mobile Safari"):return"$";case!t.includes("IE"):return"&";case!t.includes("Edge"):return"&";case!t.includes("Opera"):return'"';case!t.includes("Android"):return"&#039;";default:return"4"}break;case"device":switch(t){case"Desktop":return"!";case"Tablet":return"7";case"Mobile":return"6";default:return"4"}break;case"platform":switch(t){case"Mac OS X":return"*";case"Windows":return")";case"Windows Phone":return")";case"Linux":return"+";case"iOS":return"*";case"Android":return"&#039;";default:return"4"}break;case"satisfaction":switch(t){case"Excellent":return"[";case"Normal":return"@";case"Poor":return"?";default:return"4"}break;default:return"4"}},e=function(n,r){return this.container=n,null==r&&(r={}),this.options=o({},e.defaults,r),this.state={loading:!0,noResults:!1,error:!1},this.ID=++i,this.tableID="#"+this.options.baseClass+"-"+this.ID,this.visibleRows=[],this.availableRows=[],this.allRows=[],this.largestBreakdownTotal=0,this.searchCriteria="",this.searchParam="",this.sortBy=this.options.sortBy?this.options.sortBy:"",this.sortDirection=-1,this.currentPage=1,this.els={},this.els.tableOuterwrap=t(u.tableOuterwrap(t.extend({ID:this.ID},this.options))),this.els.table=t(u.table(this.options)).appendTo(this.els.tableOuterwrap),this.els.tableHeading=this.els.table.children().first().children(),this.els.tableBody=this.els.table.children().last(),this.els.noResultsMessage=t(u.noResults(this.options)).appendTo(this.els.tableOuterwrap),this.els.loadingMessage=t(u.loading(this.options)).appendTo(this.els.tableOuterwrap),this.els.errorMessage=t(u.error(this.options)).appendTo(this.els.tableOuterwrap),this.els.pageStatus=t(u.pageStatus(this.options)).appendTo(this.els.tableOuterwrap),this.els.pagination=t(u.pagination(this.options)).appendTo(this.els.tableOuterwrap),this.els.paginationItems=this.els.pagination.children("._paginationItems"),this.els.paginationExtra=this.els.pagination.children("._extraIndicator"),this.els.paginationExtraSelect=this.els.paginationExtra.children("select"),this.els.paginationExtraText=this.els.paginationExtraSelect.prev(),this.els.searchField=t(u.searchField(this.options)).insertBefore(this.els.table),this.els.searchParam=this.els.searchField.children("select"),this.els.searchCriteria=this.els.searchField.children("input"),this.els.globalStyles=t("<style />").prependTo(this.els.tableOuterwrap),this.els.tableHeading.append(this.generateHeadingColumns()),this.els.tableOuterwrap.appendTo(this.container),this.els.table.data("DataTable",this),this.options.minWidth&&(this.els.table[0].style.minWidth=this.options.minWidth+"px"),Promise.bind(this).then(this.attachEvents).then(this.attachBindings).then(function(){if(this.options.loadOnInit)return this.loadData()}),this},e.prototype.fetchData=function(){return this.state.loading=!0,this.options.data().then(function(t){return function(e){return t.state.loading=!1,Promise.resolve(e)}}(this)).catch(function(t){return function(e){return t.state.error=e}}(this))},e.prototype.setData=function(t){if(Array.isArray(t))return this.allRows=t},e.prototype.loadData=function(){var t,e,n,r;if(this.allRows.length)for(n=this.allRows,t=0,e=n.length;t<e;t++)r=n[t],this.unprocessRow(r);return this.fetchData().then(function(t){return function(e){return t.setData(e)}}(this))},e.prototype.markupArgs=function(t){return null==t&&(t={}),t.baseClass=this.options.baseClass,t},e.prototype.calcPageCount=function(t){return this.pageCountReal=Math.ceil(t.length/this.options.perPage),this.pageCount=this.pageCountReal>this.options.pageCountMax?this.options.pageCountMax:this.pageCountReal},e.prototype.calcPercentageString=function(t,e,n){var r,i,a,s,o,l;return a=this.options.percentage[e],r=a[0],i=a[2],s=a[1],l=function(){switch(s){case"*":return n[r]*n[i];case"/":return n[r]/n[i];case"+":return n[r]+n[i];case"-":return n[r]-n[i]}}(),l===1/0&&(l=0),o=convertToPercent(l),t+" ("+o+")"},e.prototype.sortRows=function(t,e){var n,r;switch(null==e&&(e=this.options.sortBy),!1){case"+"!==e:return t;case"-"!==e:return null!=t?t.slice().reverse():void 0;case!this.options.columns[e]:return n=this.options.columns[e].sortFn,r=this.options.columns[e].rawValueFormatter,t.slice().sort(n||function(t){return function(n,i){var a,s;switch(a=r?r(n[e]):n[e],s=r?r(i[e]):i[e],!1){case!(a>s):return t.sortDirection;case!(a<s):return t.sortDirection*-1;default:return 0}}}(this));default:return t}},e.prototype.setVisiblePage=function(t){var e,n,r,i,a,s;for(t--,s={start:t*this.options.perPage,end:t*this.options.perPage+this.options.perPage},a=this.availableRows.slice(s.start,s.end),i=this.visibleRows.slice(),e=0,n=i.length;e<n;e++)r=i[e],r.visible=!1;return this.visibleRows.length=0,this.visibleRows.push.apply(this.visibleRows,a)},e.prototype.setPageIndicator=function(t){var e,n;return"..."===t&&(t=1),t=t>this.options.pageCountMax?this.options.pageCountMax:t-1,n=this.els.pagination.find("._paginationItem").slice(1,-1),e=n.eq(t),e.addClass("current"),n.not(e).removeClass("current")},e.prototype.generateHeadingColumns=function(){var t,e;return this.options.columns=l.normalizeColumns(this.options.columns),function(){var n,r;n=this.options.columns,r=[];for(e in n)t=n[e],r.push("breakdownBar"===t.type);return r}.call(this)&&(this.hasBreakdownBar=!0),Object.keys(this.options.columns).map(function(e){return function(n){return t=e.options.columns[n],e.els.globalStyles[0].innerHTML+="{{"+t.slug+"}}\n",u.headingCell(e.markupArgs({slug:t.slug,icon:t.icon,label:t.label,style:l.genHeaderCellStyle(t),extraClasses:l.genCellClassname(t)}))}}(this)).join("")},e.prototype.updateColumns=function(t){return t=l.normalizeColumns(t),o(!0,this.options.columns,t),this.currentPage=this.currentPage},e.prototype.processRow=function(e){var n;return e.processed?e:(this.generateRow(e),SimplyBind("visible",{updateEvenIfSame:!0}).of(e).to(function(t){return function(n,r){return n?(e.el.appendTo(t.els.tableBody),t.hasBreakdownBar&&!e.updatedBreakdownWidth&&n!==r?e.breakdownBarWidth=l.getBreakdownBarWidth(e,t.largestBreakdownTotal):void 0):e.el.detach()}}(this)),this.hasBreakdownBar&&(null!=(n=e.breakdownBarEl)?n.length:void 0)&&SimplyBind("largestBreakdownTotal").of(this).to("updatedBreakdownWidth").of(e).transform(function(){return!!e.visible}).and.to("breakdownBarWidth").of(e).transform(function(t){return function(){return l.getBreakdownBarWidth(e,t.largestBreakdownTotal)}}(this)).chainTo("width").of(e.breakdownBarEl[0].style).transform(function(t){return t+"%"}).and.to(function(n){return function(){var n,r,i,a,s,o,u;for(s=e.drilldownEls,i=r=0,a=s.length;r<a;i=++r)n=s[i],u=l.getBreakdownBarWidth(e.drilldown[i],e.drilldown.largestBreakdownTotal),null!=(o=t(n).children(".is_breakdown_bar").children().children()[0])&&(o.style.width=u+"%")}}(this)).condition(function(){return e.drilldown}).conditionAll(function(){return e.visible}),e.processed=!0,e)},e.prototype.unprocessRow=function(t){if(t.processed)return SimplyBind.unBindAll(t,!0),this.hasBreakdownBar&&t.breakdownBarEl[0]&&SimplyBind.unBindAll(t.breakdownBarEl[0].style),t.el.remove(),delete t.el,delete t.drilldownEls,delete t.visible,delete t.breakdownBarEl,delete t.processed},e.prototype.reRenderRow=function(t){return this.generateRow(t)},e.prototype.generateRow=function(e){var n,r;return r=e.el,n=e.el=t(this.generateRowMarkup(e)).data("row",e),r&&r.replaceWith(n),e.drilldown&&(e.expandButton=e.el.children().first()),e.drilldown&&(e.drilldownEls=e.el.children("._tableRowDrilldown").children()),this.hasBreakdownBar&&(e.breakdownBarEl=e.el.children(".isBreakdownBar").children().children()),r||(e.visible=!1),e.drilldown&&(this.hasBreakdownBar&&(e.drilldown.largestBreakdownTotal=Math.max.apply(Math,e.drilldown.map(function(t){return t.breakdownBarTotal}))),SimplyBind("drilldownOpen").of(e).to("className.drilldownState").of(e.el).transform(function(t){return t?"hasDrilldown drilldownIsOpen":"hasDrilldown"}),SimplyBind("visible").of(e).once.to(function(){return SimplyBind(function(){if(!e.drilldownOpen)return setTimeout(function(){var t,n;return n=e.el.height(),t=e.expandButton.height(),e.expandButton[0].style.top=n/2-t/2+"px"})}).updateOn("event:resize",{throttle:300}).of(window)}).condition(function(t){return t})),e},e.prototype.generateRowMarkup=function(t,e){var n;return n=!!e,u.row(this.markupArgs({rowID:n?e[this.options.uniqueID]:t[this.options.uniqueID],drilldown:n?"":t.drilldown?function(e){return function(){var n,r,i,a,s;for(n="",s=t.drilldown,i=0,a=s.length;i<a;i++)r=s[i],n+=e.generateRowMarkup(r,t);return n}}(this)():void 0,cells:function(e){return function(){var n,r,i,a,s;s="",a=e.options.columns;for(i in a)r=a[i],n=t[i],e.options.percentage[i]&&(n=e.calcPercentageString(n,i,t)),s+=u.rowCell(e.markupArgs({label:"string"==typeof n?n:"",column:i,slug:r.slug,extraClasses:l.genCellClassname(r),style:l.genCellStyle(r),value:function(){switch(!1){case"fields"!==r.type:return e.generateInlineFields(n,t,r);case"ipDetails"!==r.type:return e.generateIpDetails(n,t,r);case"breakdownBar"!==r.type:return e.generateBreakdownBar(n,t,r);case"button"!==r.type:return e.generateButton(r.action||n,r.buttonIcon||r.icon);case"actions"!==r.type:return e.generateActions(r,t,r);case!r.isLink:return"<a href='"+n+"' target='_blank'>"+n+"</a>";default:return r.formatter?r.formatter(n,t,r):n}}()}));return s}}(this)()}))},e.prototype.generateBreakdownBar=function(t,e,n){var r,i;return r=this.legend||Object.keys(t),e.breakdownBarTotal=i=this.getBreakdownTotal(t,r),i?u.breakdownBar(this.markupArgs({total:i,totalFormatted:n.valueFormat?n.valueFormat(i):i,bars:function(){var e,n,a,s,o;for(e="",n=0,s=r.length;n<s;n++)a=r[n],o=t[a],e+=u.block_table_body_row_cell_breakdown_bar.replace("{{width}}",o/i*100);return e}(),hoverBox:function(){return u.block_table_body_row_cell_breakdown_hoverbox.replace("{{rows}}",function(){var e;return e="",r.forEach(function(r,i){return e+=u.block_table_body_row_cell_breakdown_hoverbox_row.replace("{{color}}",customColors(i)).replace("{{key}}",r).replace("{{value}}",n.valueFormat?n.valueFormat(t[r]):t[r])}),e})}()})):"N/A"},e.prototype.generateInlineFields=function(t){return u.fields(this.markupArgs({fields:function(e){return function(){var n,r,i;return"object"!=typeof t?"":(r=function(){var e;e=[];for(n in t)i=t[n],e.push(u.fieldsItem(this.markupArgs({label:n,value:i})));return e}.call(e),r.join(""))}}(this)()}))},e.prototype.generateButton=function(t,e,n){return u.button(this.markupArgs({action:t,icon:e,isMulti:n}))},e.prototype.generateActions=function(t){var e,n;return null==t.actions&&(t.actions="multiActions"),n=this.generateButton(t.actions,t.buttonIcon||t.icon,!0),e=u.actions(this.markupArgs({actions:function(t){return function(){var e,n;return t.options.actions?(n=function(){var t,n,r,i;for(r=this.options.actions,i=[],t=0,n=r.length;t<n;t++)e=r[t],i.push(u.actionsItem(this.markupArgs(e)));return i}.call(t),n.join("")):""}}(this)()})),n+e},e.prototype.generateIpDetails=function(t,e,n){return u.ipDetails(this.markupArgs({ipAddress:t,extra:"function"==typeof n.extraMarkup?n.extraMarkup(t,e):void 0}))},e.prototype.attachEvents=function(){return this.els.pagination.on("click","._paginationItem",function(e){return function(n){var r,i,a,s,o;if(r=t(n.currentTarget),i=r.hasClass("_back"),s=r.hasClass("_next"),a=r.hasClass("_extraIndicator"),i){if(1!==e.currentPage)return e.currentPage--}else if(s){if(e.currentPage!==e.pageCountReal)return e.currentPage++}else if(!a)return o=parseFloat(r.children().html()),e.currentPage=o}}(this)),this.els.tableHeading.on("click","._isSortable",function(t){return function(e){return t.sortBy=e.currentTarget.children[0].textContent}}(this)),this.els.tableBody.on("click","._actionButton",function(e){return function(n){var r,i,a,s,o,u;return i=t(n.currentTarget),i.hasClass("_isMulti")?l.toggleActionsPopup(i.next().children()):(u=i.closest("._tableRow"),r=i.data("action"),s=u.data("row-id"),o=u.data("index"),a=s?e.allRows.find(function(t){return l.compareValues(t[e.options.uniqueID],s)}):void 0,null==a&&(a=s),i.hasClass("_subActionButton")&&l.toggleActionsPopup(i.parent()),e.els.table.trigger("action."+r,a))}}(this)),this.els.tableBody.on("click","._expandDrilldown",function(e){return function(e){var n,r;return n=t(e.currentTarget),r=n.parent().data("row"),r.drilldownOpen=!r.drilldownOpen}}(this)),this.els.tableBody.on("mouseover","._ipDetails-trigger",function(e){return function(n){var r,i,a,s,o,l;if(o=t(n.currentTarget),l=o.parent(),r=o.next(),i=r.next(),a=l.data("ip"),s=o.hasClass("_isReady"),!s)return e.options.ipDataFetcher(a).then(function(t){var n,i,a;if(t)return i=function(){var e;e=[];for(n in t)a=t[n],e.push(u.ipDetailsItem(this.markupArgs({label:n,value:a})));return e}.call(e),r.html(i.join("")),l.addClass("_isReady")})}}(this)),Promise.resolve()},e.prototype.attachBindings=function(){var e,n,r,i;SimplyBind.settings.trackArrayChildren=!1,SimplyBind("noResults").of(this.state).to("className.isVisible").of(this.els.noResultsMessage).transform(function(t){return function(e){return e&&!t.state.loading?"is_visible":""}}(this)).and.to("className.noResults").of(this.els.tableOuterwrap).transform(function(t){return function(e){return e&&!t.state.loading?"_noResults":""}}(this)),SimplyBind("loading").of(this.state).to("className.isVisible").of(this.els.loadingMessage).transform(function(t){return t?"is_visible":""}).and.to("className.loading").of(this.els.tableOuterwrap).transform(function(t){return function(t){return t?"_loading":""}}(this)).and.to(function(t){return function(e){return e?t.state.noResults=!1:t.state.noResults=!t.visibleRows.length}}(this)),SimplyBind("error").of(this.state).to("textContent.errorMessage").of(this.els.errorMessage).and.to("className.isVisible").of(this.els.errorMessage).transform(function(t){return t?"is_visible":""}).and.to("className.hasError").of(this.els.tableOuterwrap).transform(function(t){return t?"_error":""}).and.to(function(t){if(t)return console.error(t)}),this.options.hasMobile&&(this.windowWidth=window.innerWidth,SimplyBind("event:resize").of(window).to(function(t){return function(){return t.windowWidth=window.innerWidth}}(this)),SimplyBind("windowWidth").of(this).to("className.mobileVersion").of(this.els.tableOuterwrap).transform(function(t){return function(e){return e<=t.options.mobileWidth?"_mobileVersion":""}}(this))),i=this.options.columns,n=function(t){return function(e){return SimplyBind("hidden").of(e).to("innerHTML."+e.slug).of(t.els.globalStyles).transform(function(n){return n?t.tableID+" .__"+e.slug+" {display:none}":""})}}(this);for(r in i)e=i[r],n(e);return SimplyBind("array:visibleRows").of(this).to(function(t){return function(e,n){var r,i,a,s,o,l,u;if(null!=n?n.length:void 0)for(a=0,o=n.length;a<o;a++)u=n[a],u.visible=!1;try{for(s=0,l=e.length;s<l;s++)u=e[s],t.processRow(u),u.visible=!0}catch(e){r=e,t.state.error=r}return t.state.noResults=!e.length}}(this)).and.to(function(t){return function(e){var n,r,i,a;if(t.hasBreakdownBar){for(n=0,i=e.length;n<i;n++)a=e[n],(a.breakdownBarTotal>r||"undefined"==typeof r||null===r)&&(r=a.breakdownBarTotal);return t.largestBreakdownTotal=r||0}}}(this)).and.to("textContent.rowRange").of(this.els.pageStatus).transform(function(t){return function(e){return t.availableRows.indexOf(e[0])+1+"-"+(t.availableRows.indexOf(e.slice(-1)[0])+1)}}(this)),SimplyBind("allRows").of(this).to(function(t){return function(e){return t.searchCriteria="",t.currentPage=1,t.state.noResults=!e.length,t.sortBy===t.options.sortBy?(t.sortBy="",t.sortBy=t.options.sortBy):t.sortBy=""}}(this)),SimplyBind("availableRows",{updateOnBind:!1,updateEvenIfSame:!0}).of(this).to(function(t){return function(e){return t.calcPageCount(e)}}(this)).and.to("textContent.totalRows").of(this.els.pageStatus).transform(function(t){return t.length}),SimplyBind("pageCount").of(this).to("innerHTML").of(this.els.paginationItems).transform(function(t){return function(e){var n,r,i,a;for(r="",a=n=1,i=e;1<=i?n<=i:n>=i;a=1<=i?++n:--n)0!==a&&(r+=u.paginationItem(t.markupArgs({value:a})));return r}}(this)).and.to("className.isVisible").of(this.els.pagination).transform(function(t){return t>1?"is_visible":""}),SimplyBind("pageCountReal").of(this).to("innerHTML").of(this.els.paginationExtraSelect).transform(function(t){return function(e){var n,r,i,a,s;if(e<=t.options.pageCountMax)return"";for(i="<option>...</option>",r=n=a=t.options.pageCountMax+1,s=e;a<=s?n<=s:n>=s;r=a<=s?++n:--n)i+="<option>"+r+"</option>";return i}}(this)).and.to("className.hasExtra").of(this.els.pagination).transform(function(t){return function(e){return e>t.options.pageCountMax?"has_extra":""}}(this)),SimplyBind("value",{updateOnBind:!1}).of(this.els.paginationExtraSelect).to("innerHTML").of(this.els.paginationExtraText).and.to("currentPage").of(this),SimplyBind("currentPage",{updateEvenIfSame:!0}).of(this).transformSelf(function(t){return function(e){return e="..."===e?1:parseFloat(e),e>t.pageCountReal?t.pageCountReal:e}}(this)).to("value").of(this.els.paginationExtraSelect).transform(function(t){return function(e){return e>t.options.pageCountMax?e:"..."}}(this)).and.to(function(t){return function(e){return t.setVisiblePage(e),t.setPageIndicator(e)}}(this)),this.options.search.length&&(this.searchParam=this.options.search[0],SimplyBind("search").of(this.options).to("innerHTML").of(this.els.searchParam).transform(function(t){return t.map(function(t){return"<option>"+t+"</option>"}).join("")}),SimplyBind("value").of(this.els.searchParam).to("searchParam").of(this).pipe("attr:placeholder").of(this.els.searchCriteria).transform(function(t){return"Search by "+t})),SimplyBind("value").of(this.els.searchCriteria).to("searchCriteria",{updateEvenIfSame:!0}).of(this).bothWays().chainTo(function(n){return function(r){var i,a,s;return a=n.allRows,s=n.options.columns[n.searchParam],r&&(s||null!=(null!=(i=n.allRows[0])?i[n.searchParam]:void 0))&&(a=a.filter(function(t){var e;return e=(null!=s?s.rawValueFormatter:void 0)?s.rawValueFormatter(t[n.searchParam]):t[n.searchParam],null!=e?e.toString().toLowerCase().includes(r.toLowerCase()):void 0})),n.options.rowFilter&&(a=a.filter(function(r){var i,a,s;s=t.extend({},r),a=n.options.columns;for(i in a)e=a[i],e.rawValueFormatter&&(s[i]=e.rawValueFormatter(s[i]));return n.options.rowFilter(s)})),n.availableRows=a,n.currentPage=1}}(this)),SimplyBind("sortBy",{updateEvenIfSame:!0,updateOnBind:!1},!0).of(this).to(function(t){return function(e,n){var r;if(e||n)return e===n&&n?t.sortDirection*=-1:t.sortDirection=-1,r=e?e:null,t.availableRows=t.sortRows(t.availableRows,r),t.currentPage=1}}(this)),this.els.tableHeading.children("._isSortable").length&&SimplyBind("sortBy",{updateOnBind:!0}).of(this).to("multi:className.currentSort").of(this.els.tableHeading.children("._isSortable")).transform(function(t,e,n){return t===n.children[0].textContent?"_currentSort":""}),SimplyBind("sortDirection").of(this).to("className.sortDirection").of(this.els.table).transform(function(t){return t===-1?"desc":"asc"}),Promise.resolve()},e.prototype.sortBy=function(t){},i=0,e.version="2.8.0",e.helpers=l,e.markup=u,e.defaults=a,window.DataTable=e}(jQuery);
