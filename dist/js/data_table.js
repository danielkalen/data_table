/*
 escape-html
 Copyright(c) 2012-2013 TJ Holowaychuk
 Copyright(c) 2015 Andreas Lubbe
 Copyright(c) 2015 Tiancheng "Timothy" Gu
 MIT Licensed
*/
(function(u){var n;var D=function(a){"use strict";var b=Object.prototype.hasOwnProperty,d=Object.prototype.toString,f=function(a){return"function"===typeof Array.isArray?Array.isArray(a):"[object Array]"===d.call(a)},e=function(a){if(!a||"[object Object]"!==d.call(a))return!1;var e=b.call(a,"constructor"),f=a.constructor&&a.constructor.prototype&&b.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!e&&!f)return!1;for(var g in a);return"undefined"===typeof g||b.call(a,g)};return function h(){var a,
b,d=arguments[0],l=1,n=arguments.length,q=!1;if("boolean"===typeof d)q=d,d=arguments[1]||{},l=2;else if("object"!==typeof d&&"function"!==typeof d||null==d)d={};for(;l<n;++l){var u=arguments[l];if(null!=u)for(a in u){var t=d[a];var y=u[a];d!==y&&(q&&y&&(e(y)||(b=f(y)))?(b?(b=!1,t=t&&f(t)?t:[]):t=t&&e(t)?t:{},d[a]=h(q,t,y)):"undefined"!==typeof y&&(d[a]=y))}}return d}}.call(this,{});var H=function(a){"use strict";var b=/["'&<>]/;return a=function(a){a=""+a;var d=b.exec(a);if(!d)return a;var e="",g,
h=0;for(g=d.index;g<a.length;g++){switch(a.charCodeAt(g)){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&#39;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;default:continue}h!==g&&(e+=a.substring(h,g));h=g+1;e+=d}return h!==g?e+a.substring(h,g):e}}.call(this,{});var q={tableOuterwrap:function(a){var b=a.ID;var d=a.baseClass;return"<div id='"+d+"-"+b+"' class='"+d+"-outerwrap {{loading}} {{noResults}} {{hasError}} "+(a.minWidth?"_hasMinWidth":"")+" "+(a.hasMobile?"{{mobileVersion}}":
"")+" "+(a.cellsHavePadding?"_cellsHavePadding":"")+" '></div>"},table:function(a){var b=a.baseClass;return"<div class='"+b+" alignment---"+a.alignment+" sortDirection---{{sortDirection}}'> <div class='"+b+"-heading'> <div class='"+b+"-heading-row'></div> </div> <div class='"+b+"-body'></div> </div>"},loading:function(a){a=a.baseClass;return"<div class='"+a+"-loading {{isVisible}}'> <div class='"+a+"-loading-innerwrap'> <div class='"+a+"-loading-icon'></div> <div class='"+a+"-loading-text'>Loading</div> </div> </div>"},
noResults:function(a){var b,d;var f=a.baseClass;var e=null!=(b=a.itemSingleLabel)?b:"Item";a=null!=(d=a.itemPluralLabel)?d:e+"s";return"<div class='"+f+"-noResults {{isVisible}}'> <div class='"+f+"-noResults-innerwrap'> <div class='"+f+"-noResults-icon'></div> <div class='"+f+"-noResults-text'> <div class='"+f+"-noResults-text-title'>No "+e+"s to Display</div> <div class='"+f+"-noResults-text-subtitle'>There are no matching "+a+" for the search query you've typed.</div> </div> </div> </div>"},error:function(a){a=
a.baseClass;return"<div class='"+a+"-error {{isVisible}}'> <div class='"+a+"-error-innerwrap'> <div class='"+a+"-error-icon'></div> <div class='"+a+"-error-text'> <div class='"+a+"-error-text-title'>A Fatal Error has Occured</div> <div class='"+a+'-error-text-subtitle\'>Report the following to the admin:<br />"{{errorMessage}}"</div> </div> </div> </div>'},pageStatus:function(a){return"<div class='"+a.baseClass+"-pageStatus "+(a.showPageStatus?"is_visible":"")+"'> Showing {{rowRange}} of {{totalRows}} </div>"},
pagination:function(a){a=a.baseClass;return"<div class='"+a+"-pagination {{hasExtra}} {{isVisible}}'> <div class='"+a+"-pagination-item _paginationItem _back'> <div class='"+a+"-pagination-item-text'></div> </div> <div class='"+a+"-pagination-itemswrap _paginationItems'></div> <div class='"+a+"-pagination-item _paginationItem _extraIndicator'> <div class='"+a+"-pagination-item-text'></div> <select class='"+a+"-pagination-item-select'></select> </div> <div class='"+a+"-pagination-item _paginationItem _next'> <div class='"+
a+"-pagination-item-text'></div> </div> </div>"},paginationItem:function(a){var b=a.baseClass;return"<div class='"+b+"-pagination-item _paginationItem'> <div class='"+b+"-pagination-item-text'>"+a.value+"</div> </div>"},headingCell:function(a){var b,d,f;var e=a.baseClass;var g=null!=(b=a.extraClasses)?b:"";var h=a.slug;b=null!=(d=a.icon)?d:"";d=a.label;a=null!=(f=a.style)?f:"";return"<div class='"+e+"-heading-row-cell "+g+" __"+h+"' data-slug='"+h+"' data-icon='"+b+"' "+a+"> <div class='"+e+"-heading-row-cell-text'>"+
d+"</div> </div>"},row:function(a){var b;var d=a.baseClass;var f=a.rowID;var e=a.cells;a=null!=(b=a.drilldown)?b:"";return"<div class='"+d+"-body-row _tableRow {{drilldownState}}' data-row-id='"+f+"'> <div class='"+d+"-body-row-expandDrilldown _expandDrilldown'> <div class='"+d+"-body-row-expandDrilldown-icon'></div> </div> "+e+" <div class='"+d+"-body-row-drilldown _tableRowDrilldown'> "+a+" </div> </div>"},rowCell:function(a){var b,d;var f=a.baseClass;var e=null!=(b=a.extraClasses)?b:"";var g=a.label;
b=a.column;var h=a.slug;var k=a.value;a=null!=(d=a.style)?d:"";return"<div class='"+f+"-body-row-cell __"+h+" "+e+"' data-slug='"+h+"' data-column='"+b+"' "+a+"> <div class='"+f+"-body-row-cell-innerwrap' title='"+g+"'>"+k+"</div> </div>"},searchField:function(a){var b=a.baseClass;a=a.search;return"<div class='"+b+"-search "+(null!=a&&a.length?"is_visible":"")+"'> <select class='"+b+"-search-select'></select> <input class='"+b+"-search-input' /> <div class='"+b+"-search-selectTrigger'></div> </div>"},
ipDetails:function(a){var b;var d=a.baseClass;var f=a.ipAddress;a=null!=(b=a.extra)?b:"";return"<div class='"+d+"-ipDetails _ipDetails' data-ip='"+f+"'> <div class='"+d+"-ipDetails-trigger _ipDetails-trigger'></div> <div class='"+d+"-ipDetails-content'>Loading IP Details</div> </div> "+a},ipDetailsItem:function(a){var b=a.baseClass;return"<div class='"+b+"-ipDetails-content-item'> <div class='"+b+"-ipDetails-content-item-label'>"+a.label+": </div> <div class='"+b+"-ipDetails-content-item-value'>"+
a.value+"</div> </div>"},fields:function(a){return"<div class='"+a.baseClass+"-fieldGroup'>"+a.fields+"</div>"},fieldsItem:function(a){var b=a.baseClass;return"<div class='"+b+"-fieldGroup-item'> <div class='"+b+"-fieldGroup-item-label'>"+a.label+": </div> <div class='"+b+"-fieldGroup-item-value'>"+H(a.value)+"</div> </div>"},button:function(a){var b;var d=a.baseClass;var f=a.action;var e=null!=(b=a.icon)?b:"";return"<div class='"+d+"-button _actionButton "+(a.isMulti?"_isMulti":"")+"' data-action='"+
f+"'> <div class='"+d+"-button-icon'>"+e+"</div> </div>"},actions:function(a){var b=a.baseClass;return"<div class='"+b+"-actions'> <div class='"+b+"-actions-popup'>"+a.actions+"</div> </div>"},actionsOverlay:function(){return"<div class='"+l.defaults.baseClass+"-actions-overlay'></div>"},actionsItem:function(a){var b;var d=a.baseClass;var f=a.action;var e=a.icon;var g=a.label;a=null!=(b=a.customIconStyle)?b:"";return"<div class='"+d+"-actions-popup-item _actionButton _subActionButton' data-action='"+
f+"' style='"+a+"'> <div class='"+d+"-actions-popup-item-icon'>"+e+"</div> <div class='"+d+"-actions-popup-item-text'>"+g+"</div> </div>"}};var t={compareValues:function(a,b){switch(!1){case typeof a!==typeof b:return a===b;case "string"!==typeof a:return a===""+b;case "number"!==typeof a:return a===parseFloat(b)}},toggleActionsPopup:function(a){var b,d;(b=a.data("isOpen"))?(a.data("overlay").remove(),a.removeClass("is_visible")):(a.data("overlay",d=u(q.actionsOverlay())),a.addClass("is_visible"),
d.appendTo(document.body).one("click",function(){return t.toggleActionsPopup(a)}));return a.data("isOpen",!b)},getBreakdownTotal:function(a,b){switch(!1){case 0!==b.length:return 0;default:return b.map(function(b){return a[b]}).reduce(function(a,b){return a+b})}},normalizeColumns:function(a){var b,d;if(Array.isArray(a)){var f={};if("string"===typeof a[0]){var e=0;for(b=a.length;e<b;e++){var g=a[e];f[g]={label:g}}}else if(null!=(e=a[0])&&e.label)for(b=0,d=a.length;b<d;b++)e=a[b],f[e.label]=e}else f=
a;for(g in f)e=f[g],null==e.label&&(e.label=g),null==e.slug&&(e.slug=e.label.toLowerCase().replace(/\W/g,"_")),null==e.type&&(e.type="text");return f},getBreakdownBarWidth:function(a,b){return a.breakdownBarTotal/b*82},genHeaderCellStyle:function(a){var b="";a.width&&(b+="max-width: "+a.width+";");0<=a.grow&&(b+="flex-grow: "+a.grow+";");return b?"style='"+b+"'":""},genCellStyle:function(a){var b="";a.width&&(b+="max-width: "+a.width+";");if(a.color){var d=this.colorMapping(a.color,a.colorType);b+=
"color: "+d+";"}a.customStyle&&(b+=a.customStyle);0<=a.grow&&(b+="flex-grow: "+a.grow+";");return b?"style='"+b+"'":""},genCellClassname:function(a){var b="";a.sortable&&(b+=" _isSortable {{currentSort}}");a.noLabel&&(b+=" _noLabel");a.isLink&&(b+=" _isLink");a.noEllipsis&&(b+=" _noEllipsis");a.showOverflow&&(b+=" _showOverflow");a.color&&(b+=" _hasColor");if("button"===a.type||"actions"===a.type)b+=" _isButton",a.alwaysCenter=!0;"breakdownBar"===a.type&&(b+=" _isBreakdownBar");"ipDetails"===a.type&&
(b+=" _isIpDetails");"fields"===a.type&&(b+=" _isFields");a.alwaysCenter&&(b+=" _alwaysCenter");return b},colorMapping:function(a,b){null==b&&(b="name");switch(b){case "browser":switch(!1){case !a.includes("Firefox"):return this.colorMapping("orange");case !a.includes("Chrome"):return this.colorMapping("green");case !a.includes("Safari"):return this.colorMapping("blue");case !a.includes("Mobile Safari"):return this.colorMapping("blue");case !a.includes("IE"):return this.colorMapping("lightblue");
case !a.includes("Edge"):return this.colorMapping("lightblue");case !a.includes("Opera"):return this.colorMapping("red");case !a.includes("Android"):return this.colorMapping("lightgreen");default:return"unknown"}case "platform":switch(a){case "Mac OS X":return this.colorMapping("black");case "Windows":return this.colorMapping("lightblue");case "Windows Phone":return this.colorMapping("purple");case "Linux":return this.colorMapping("darkyellow");case "iOS":return this.colorMapping("black");case "Android":return this.colorMapping("lightgreen");
default:return"unknown"}case "satisfaction":switch(a){case "Excellent":return this.colorMapping("green");case "Normal":return this.colorMapping("yellow");case "Poor":return this.colorMapping("red");default:return"unknown"}case "name":switch(a){case "orange":return"#ee6f0e";case "green":return"#00ad09";case "blue":return"#4788f3";case "yellow":return"#eab71e";case "red":return"#cc4820";case "black":return"#181818";case "purple":return"#a020ba";case "lightblue":return"#0cb3ee";case "lightgreen":return"#78c257";
case "darkyellow":return"#e8ac01"}break;default:return a}},iconMapping:function(a,b){switch(b){case "browser":switch(!1){case !a.includes("Firefox"):return"#";case !a.includes("Chrome"):return"%";case !a.includes("Safari"):return"$";case !a.includes("Mobile Safari"):return"$";case !a.includes("IE"):return"&";case !a.includes("Edge"):return"&";case !a.includes("Opera"):return'"';case !a.includes("Android"):return"&#039;";default:return"4"}case "device":switch(a){case "Desktop":return"!";case "Tablet":return"7";
case "Mobile":return"6";default:return"4"}case "platform":switch(a){case "Mac OS X":return"*";case "Windows":return")";case "Windows Phone":return")";case "Linux":return"+";case "iOS":return"*";case "Android":return"&#039;";default:return"4"}case "satisfaction":switch(a){case "Excellent":return"[";case "Normal":return"@";case "Poor":return"?";default:return"4"}default:return"4"}}};window.SimplyBind||(n=function(a){var b={exports:a};(function(){var a;var f=0;var e="push pop shift unshift splice reverse sort".split(" ");
var g={};var h={};var k=["{{","}}"];var r=Object.create({silent:!1},{placeholder:{get:function(){return k},set:function(c){m.isArray(c)&&2===c.length&&(k=c,N())}}});var l={delay:!1,throttle:!1,simpleSelector:!1,promiseTransforms:!1,dispatchEvents:!1,sendArrayCopies:!1,updateEvenIfSame:!1,updateOnBind:!0};var n=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var t=null;var u=function(){if(!t){var c=t=document.createEvent("Event");c.initEvent("change",!0,!1);c._sb=!0}return t};var D=!("className"in
Element.prototype)||!q(Element.prototype,"className").get;var y="innerWidth innerHeight outerWidth outerHeight scrollX scrollY pageXOffset pageYOffset screenX screenY screenLeft screenTop".split(" ");var H=function(c,a){return this.updateAllSubs(a||this)};var M=function(){return""+ ++f};var z=function(){return Object.create(null)};var A=function(c,a){return function(b,e,p){return x(b,e,p,c,a)}};var X=function(c,a){return c.selfUpdater||(c.selfUpdater=new B(function(){return a?c.setValue(c.fetchDirectValue(),
c,!0):c.updateAllSubs(c)},"Func",{}))};var v=function(c,a){return c&&-1!==c.indexOf(a)};var m={isDefined:function(c){return void 0!==c},isArray:function(c){return c instanceof Array},isObject:function(c){return"object"===typeof c&&c},isString:function(c){return"string"===typeof c},isNumber:function(c){return"number"===typeof c},isFunction:function(c){return"function"===typeof c},isBindingInterface:function(c){return c instanceof E},isBinding:function(c){return c instanceof B},isIterable:function(c){return m.isObject(c)&&
m.isNumber(c.length)},isDom:function(c){return c.nodeName&&1===c.nodeType},isDomInput:function(c){c=c.nodeName;return"INPUT"===c||"TEXTAREA"===c||"SELECT"===c},isDomRadio:function(c){return"radio"===c.type},isDomCheckbox:function(c){return"checkbox"===c.type},isElCollection:function(c){return c instanceof NodeList||c instanceof HTMLCollection||window.jQuery&&c instanceof jQuery},domElsAreSame:function(c){var a=c[0].type;return[].filter.call(c,function(c){return c.type===a}).length===c.length},isDomNode:function(c){return m.isDom(c)||
c===window||c===document}};var O=function(c,a,b){var e;if(e=q(c,a))return b&&(e.configurable=!0),e;if(c=Object.getPrototypeOf(c))return O(c,a,!0)};var F=function(c,a,b){var p;c.origDescriptor||(c.origDescriptor=O(a,c.property));if(b)e.forEach(function(b){return n(a,b,{configurable:!0,value:function(){var e=Array.prototype[b].apply(a,arguments);c.updateAllSubs(c);return e}})});else if("Proxy"===c.type){var w=c.origFn=c.value;c.value={result:null,args:null};if(m.isFunction(w)){var d=[].slice;var f=
p=function(){var b=d.call(arguments);c.value.args=b=c.selfTransform?c.selfTransform(b):b;c.value.result=b=w.apply(a,b);c.updateAllSubs(c);return b};n(a,c.property,{configurable:c.isLiveProp=!0,get:function(){return f},set:function(a){m.isFunction(a)?a!==w&&(a!==p&&(w=c.origFn=a),f!==p&&(f=p)):f=a}})}}else if(!(v(c.type,"DOM")||c.object===window&&v(y,c.property))){b=c.origDescriptor||g;b.get&&(c.origGetter=b.get.bind(a));b.set&&(c.origSetter=b.set.bind(a));var h=(h=b.configurable)&&a.constructor!==
CSSStyleDeclaration;D&&c.isDom&&c.property in a.cloneNode(!1)&&(c.origDescriptor=h=!1,c.isLiveProp=!0,c.origGetter=function(){return c.object[c.property]},c.origSetter=function(a){return c.object[c.property]=a});if(h){h="Array"===c.type;var k=!c.origSetter&&!h;n(a,c.property,{configurable:c.isLiveProp=!0,enumerable:b.enumerable,get:c.origGetter||function(){return c.value},set:function(a){c.setValue(a,c,k)}});h&&F(c,a[c.property],!0)}}};var I=function(c,a,b){if(b){var p=[];c=0;for(b=e.length;c<b;c++){var w=
e[c];p.push(delete a[w])}return p}b=c.origDescriptor;b.set||b.get||(b.value=c.origFn||c.value);return n(a,c.property,b)};var Y=function(c){var a;var b=z();for(a in c)b[a]=c[a];return b};var J=function(c,a){var b;var e=Object.keys(a);var p=0;for(b=e.length;p<b;p++){var d=e[p];c[d]=a[d]}};var P={get:function(c,a,b,e){if(a)return h[c._sb_ID];if(e&&c[0]._sb_map&&(a=h[c[0]._sb_map[b]],a.groupBinding))return a.groupBinding;if(c._sb_map&&c._sb_map[b])return h[c._sb_map[b]]},set:function(c,a){if(a)n(c.object,
"_sb_ID",{configurable:!0,value:c.ID});else{var b=c.selector;if(c.object._sb_map)c.object._sb_map[b]=c.ID;else{var e={};e[b]=c.ID;n(c.object,"_sb_map",{configurable:!0,value:e})}}}};var Q=/[.*+?^${}()|[\]\\]/g;var K=a=null;var N=function(){var c=r.placeholder[0].replace(Q,"\\$&");var b=r.placeholder[1].replace(Q,"\\$&");var e="[^"+b+"]+";K=new RegExp(c+"("+e+")"+b,"g");a=new RegExp(""+c+e+b,"g")};N();var Z=function(c,a,b){var e,p;var d="";var w=e=0;for(p=c.length;e<p;w=++e){var g=c[w];d+=g;b[w]&&
(d+=a[b[w]])}return d};var R=function(c,a,b){null==c[b]&&(c[b]=[]);c[b].push(a)};var S=function(c,b){var e,p,d;var g=Array.prototype.slice.call(c.childNodes);var f=0;for(p=g.length;f<p;f++){var h=g[f];if(3!==h.nodeType)S(h,b);else if(h.textContent.match(a)){var k=h.textContent.split(K);if(3===k.length&&""===k[0]+k[2])R(b,h,k[1]);else{var r=document.createDocumentFragment();var m=e=0;for(d=k.length;e<d;m=++e){var l=k[m];var n=r.appendChild(document.createTextNode(l));m%2&&R(b,n,l)}h.parentNode.replaceChild(r,
h)}}}};var G=function(c){throw Error("SimplyBind: "+(T[c]||c));};var C=function(c,a){if(!r.silent){var b=aa(a);var e=T[c];console.warn("SimplyBind: "+(e+("\n\n"+b)))}};var ba=function(c){G("Invalid argument/s ("+c+")",!0)};var aa=function(c){return(Error().stack||"").split("\n").slice(c+3).join("\n")};var T={invalidParamName:"SimplyBind() and .to() only accept a function, an array, a bound object, a string, or a number.",fnOnly:"Only functions are allowed for .transform/.condition/All()",badEventArg:"Invalid argument number in .ofEvent()",
emptyList:"Empty collection provided",onlyOneDOMElement:"You can only pass a single DOM element to a binding",mixedElList:"'checked' of Mixed list of element cannot be bound"};var x=function(c,a,b,e,d){if(!c&&0!==c||!(m.isString(c)||m.isNumber(c)||m.isFunction(c)||c instanceof Array))m.isBindingInterface(c)||G("invalidParamName");!m.isObject(c)||c instanceof Array?(a=new E(a),a.saveOptions=b,a.isSub=e,a.completeCallback=d,c=m.isFunction(c)?a.setObject(c,!0):a.setProperty(c)):c=d?d(c):c.selfClone();
return c};x.version="1.15.5";x.settings=r;x.defaultOptions=l;x.unBindAll=function(c,a){var b;if(c&&(m.isObject(c)||m.isFunction(c))){m.isIterable(c)&&!c._sb_ID&&c[0]&&m.isDom(c[0])&&(c=c[0]);var e=c._sb_map;c._sb_ID&&h[c._sb_ID].removeAllSubs(a);if(e)for(b in e){var d=e[b];h[d].removeAllSubs(a)}}};var B=function(c,a,b){J(this,b);this.optionsDefault=this.saveOptions?this.options:l;this.type=a;this.object=c;this.ID=M();this.subs=[];this.subsMeta=z();this.pubsMap=z();this.attachedEvents=[];"Proxy"===
this.type&&(this.setValue=H);this.isMultiChoice&&(this.choices=z(),this.object.forEach(function(a){return function(c){var b=a.choices[c.value]=x("checked").of(c)._;b.addSub(a);b.subsMeta[a.ID].transformFn=function(){return b};b.groupBinding=a}}(this)));"Event"===this.type||"Func"===this.type&&this.isSub||("Pholder"===this.type?(a=this.descriptor&&!v(this.descriptor,"multi")?this.descriptor+":"+this.property:this.property,c=this.parentBinding=x(a).of(c)._,c.scanForPholders(),this.value=c.pholderValues[this.pholder],
c.textNodes&&(this.textNodes=c.textNodes[this.pholder])):(this.value=c=this.fetchDirectValue(),"ObjectProp"!==this.type||m.isDefined(c)||q(this.object,this.property)||(this.object[this.property]=c),F(this,this.object)));this.attachEvents();return h[this.ID]=this};B.prototype={addSub:function(a,b,e,d){var c;if(a.isMulti){var p=a.bindings;a=0;for(c=p.length;a<c;a++){var g=p[a];this.addSub(g,b,e,d)}}else if(this.subsMeta[a.ID])var f=!0;else{a.pubsMap[this.ID]=this;this.subs.unshift(a);c=this.subsMeta[a.ID]=
z();c.updateOnce=e;c.opts=Y(b);if(d||"Event"===this.type||"Proxy"===this.type||"Array"===this.type)c.opts.updateEvenIfSame=!0;c.valueRef="Func"===a.type?"valuePassed":"value"}return f},removeSub:function(a,b){var c;if(a.isMulti){var e=a.bindings;var d=0;for(c=e.length;d<c;d++){var p=e[d];this.removeSub(p,b)}}else this.subsMeta[a.ID]&&(this.subs.splice(this.subs.indexOf(a),1),delete this.subsMeta[a.ID],delete a.pubsMap[this.ID]),b&&(a.removeSub(this),delete this.pubsMap[a.ID]);0===this.subs.length&&
0===Object.keys(this.pubsMap).length&&this.destroy()},removeAllSubs:function(a){var c;var b=this.subs.slice();var e=0;for(c=b.length;e<c;e++){var d=b[e];this.removeSub(d,a)}},destroy:function(){var a;delete h[this.ID];this.removePollInterval();if("Event"===this.type){var b=this.attachedEvents;var e=0;for(a=b.length;e<a;e++){var d=b[e];this.unRegisterEvent(d)}}else"Func"===this.type&&delete this.object._sb_ID;this.isLiveProp&&this.origDescriptor&&I(this,this.object);"Array"===this.type&&I(this,this.value,
!0);this.object._sb_map&&(delete this.object._sb_map[this.selector],0===Object.keys(this.object._sb_map).length&&delete this.object._sb_map)},fetchDirectValue:function(){var a;var b=this.type;switch(!1){case "Func"!==b:return this.object();case "DOMAttr"!==b:return this.object.getAttribute(this.property)||"";case !this.isMultiChoice:var e=[];var d=this.choices;for(a in d){var g=d[a];if(g.object.checked){if("DOMRadio"===b)return a;e.push(a)}}return e;default:return this.object[this.property]}},setValue:function(a,
b,e,d){b||(b=this);this.selfTransform&&(a=this.selfTransform(a));if(!e)switch(this.type){case "ObjectProp":if(this.isLiveProp)if(this.isDomInput)if(!d)this.origSetter(a),r.dispatchEvents&&this.object.dispatchEvent(u());else{if(a!==this.origGetter()){var c=this.object.selectionStart;this.origSetter(a);c&&this.object.setSelectionRange(c,c)}}else this.origSetter&&this.origSetter(a);else a!==this.value&&(this.object[this.property]=a);break;case "Pholder":d=this.parentBinding;d.pholderValues[this.pholder]=
a;c=Z(d.pholderContexts,d.pholderValues,d.pholderIndexMap);if(this.textNodes&&a!==this.value){var g=this.textNodes;var f=0;for(e=g.length;f<e;f++){var p=g[f];p.textContent=a}}"textContent"!==this.property&&d.setValue(c,b);break;case "Array":a!==this.value&&(m.isArray(a)||(a=Array.prototype.concat(a)),I(this,this.value,!0),F(this,a=a.slice(),!0),this.origSetter&&this.origSetter(a));break;case "Func":c=this.valuePassed;this.valuePassed=a;a=this.object(a,c);break;case "Event":this.isEmitter=!0;this.emitEvent(a);
this.isEmitter=!1;break;case "DOMRadio":if(this.isMultiChoice)if(d=m.isBinding(a)?a:this.choices[a])for(f in a=d.object.value,c=this.choices,c)e=c[f],e.setValue(e.ID===d.ID,b);else a=this.value;else{a=!!a;if(a===this.value)return;this.object.checked!==a&&(this.object.checked=a);a&&r.dispatchEvents&&this.object.dispatchEvent(u())}break;case "DOMCheckbox":if(this.isMultiChoice){f=!m.isBinding(a);a=[].concat(a);e=d=0;for(g=a.length;d<g;e=++d)p=a[e],a[e]=m.isBinding(p)?p:this.choices[p];g=[];p=this.choices;
for(c in p)e=p[c],d=f?v(a,e):e.value,e.setValue(d,b),d&&g.push(c);a=g}else{a=!!a;if(a===this.value)return;this.object.checked!==a&&(this.object.checked=a,r.dispatchEvents&&this.object.dispatchEvent(u()))}break;case "DOMAttr":this.object.setAttribute(this.property,a)}this.value=a;this.updateAllSubs(b)},updateAllSubs:function(a){var c,b;if(b=(c=this.subs).length)for(;b--;)this.updateSub(c[b],a)},updateSub:function(a,b,e){var c;if(!(b===a||b!==this&&b.subsMeta[a.ID])){var d=this.subsMeta[a.ID];if(!d.disallowList||
!d.disallowList[b.ID]){if(d.opts.throttle){e=+new Date;var g=e-d.lastUpdate;if(g<d.opts.throttle)return clearTimeout(d.updateTimer),d.updateTimer=setTimeout(function(c){return function(){if(c.subsMeta[a.ID])return c.updateSub(a,b)}}(this),d.opts.throttle-g);d.lastUpdate=e}else if(d.opts.delay&&!e)return setTimeout(function(c){return function(){if(c.subsMeta[a.ID])return c.updateSub(a,b,!0)}}(this),d.opts.delay);e="Array"===this.type&&d.opts.sendArrayCopies?this.value.slice():this.value;g=a[d.valueRef];
e=(c=d.transformFn)?c(e,g,a.object):e;e===g&&!d.opts.updateEvenIfSame||d.conditionFn&&!d.conditionFn(e,g,a.object)||(d.opts.promiseTransforms&&e&&m.isFunction(e.then)?e.then(function(c){a.setValue(c,b)}):a.setValue(e,b),d.updateOnce&&this.removeSub(a))}}},addModifierFn:function(a,b,e,d){var c,g;if(m.isFunction(e)){var f=0;for(g=b.length;f<g;f++){var p=b[f];var h=p._||p;h.isMulti?this.addModifierFn(a,h.bindings,e,d):(p=this.subsMeta[h.ID],p[a]=e,d=d&&!p.updateOnce,this.pubsMap[h.ID]&&((c=h.subsMeta[this.ID])[a]||
(c[a]=e)),!d&&"Func"!==this.type||"transformFn"!==a||this.updateSub(h,this))}return!0}return C("fnOnly",2)},setSelfTransform:function(a,b){this.selfTransform=a;b&&this.setValue(this.value)},addDisallowRule:function(a,b){var c;(null!=(c=this.subsMeta[a.ID]).disallowList?c.disallowList:c.disallowList=z())[b.ID]=1},scanForPholders:function(){if(!this.pholderValues){this.pholderValues=z();this.pholderIndexMap=z();this.pholderContexts=[];if(m.isString(this.value)){this.pholderContexts=this.value.split(a);
var c=0;this.value=this.value.replace(K,function(a){return function(b,e){a.pholderIndexMap[c++]=e;return a.pholderValues[e]=e}}(this))}this.isDom&&"textContent"===this.property&&S(this.object,this.textNodes=z())}},addPollInterval:function(a){if("Event"!==this.type)return this.removePollInterval(),this.pollInterval=setInterval(function(a){return function(){var c=a.fetchDirectValue();return a.setValue(c)}}(this),a)},removePollInterval:function(){clearInterval(this.pollInterval);return this.pollInterval=
null},addUpdateListener:function(a,b){this.object.addEventListener(a,function(a){return function(c){c._sb||(c=a.selfTransform&&a.isDomInput,a.setValue(a.object[b],null,!c,!0))}}(this),!1)},attachEvents:function(){this.eventName?this.registerEvent(this.eventName):this.isDomInput?(this.addUpdateListener("input","value"),this.addUpdateListener("change","value")):this.isMultiChoice||"DOMRadio"!==this.type&&"DOMCheckbox"!==this.type||this.addUpdateListener("change","checked")},registerEvent:function(a){this.attachedEvents.push(a);
this.eventHandler||(this.eventHandler=ca.bind(this));this.object[this.eventMethods.listen](a,this.eventHandler)},unRegisterEvent:function(a){this.attachedEvents.splice(this.attachedEvents.indexOf(a),1);this.object[this.eventMethods.remove](a,this.eventHandler)},emitEvent:function(a){var c=this.eventName;"dispatchEvent"===this.eventMethods.emit&&(this.eventObject||(this.eventObject=document.createEvent("Event"),this.eventObject.initEvent(this.eventName,!0,!0)),this.eventObject.bindingData=a,c=this.eventObject);
this.object[this.eventMethods.emit](c,a)}};var ca=function(){this.isEmitter||this.setValue(arguments[this.property],null,!0)};var E=function(a,b){var c;if(b)J(this,b),this.stage=1;else for(c in this.stage=0,this.subs=[],this.optionsPassed=a||(a={}),this.options={},l)this.options[c]=null!=a[c]?a[c]:l[c];return this};var U={selfClone:function(){return new E(null,this)},defineMainProps:function(a){this._=a;return Object.defineProperties(this,{value:{get:function(){return a.value}},original:{get:function(){return a.objects||
a.object}},subscribers:{get:function(){return a.subs.slice().map(function(a){return a.object})}}})},createBinding:function(a,b,e,d){var c;this.object=a;if(c=P.get(a,d,this.selector,this.isMultiChoice))return this.patchCachedBinding(c);a=new B(a,b,e);P.set(a,d);return a},patchCachedBinding:function(a){var c;"ObjectProp"!==a.type||this.property in this.object||F(a,this.object);if(this.saveOptions){var b=this.optionsPassed;for(d in b){var e=b[d];a.optionsDefault[d]=e}}var d=a.optionsDefault;for(c in d)e=
d[c],this.options[c]=m.isDefined(this.optionsPassed[c])?this.optionsPassed[c]:e;return a},setProperty:function(a){m.isNumber(a)&&(a=a.toString());this.selector=this.property=a;if(!this.options.simpleSelector){if(v(a,":")){var c=a.split(":");this.descriptor=c.slice(0,-1).join(":");this.property=c[c.length-1]}v(a,".")&&(c=this.property.split("."),this.property=c[0],this.pholder=c.slice(1).join("."));v(this.descriptor,"event")&&(v(a,"#")?(c=this.property.split("#"),this.eventName=c[0],this.property=
c[1]):(this.eventName=this.property,this.property=0),isNaN(parseInt(this.property))&&C("badEventArg",1))}return this},setObject:function(a,b){var c;this.stage=1;var e=(c=a!==window&&m.isIterable(a)&&!a.nodeType)?a[0]:a;if(!e)c&&m.isElCollection(a)&&G("emptyList");else if(this.isDom=m.isDom(e)){if("checked"===this.property){var d=e&&m.isDomRadio(e);var g=!d&&e&&m.isDomCheckbox(e)}else"value"===this.property&&(this.isDomInput=m.isDomInput(e));if(c&&!v(this.descriptor,"multi"))if(1===a.length)a=a[0];
else if(!d&&!g||m.domElsAreSame(a))d||g?(this.isMultiChoice=!0,a=[].slice.call(a)):(a=a[0],C("onlyOneDOMElement",3));else return C("mixedElList",3)}switch(!1){case !b:g="Func";break;case !this.pholder:g="Pholder";break;case !(v(this.descriptor,"array")&&m.isArray(a[this.property])):g="Array";break;case !v(this.descriptor,"event"):g="Event";this.eventMethods={listen:this.optionsPassed.listenMethod,remove:this.optionsPassed.removeMethod,emit:this.optionsPassed.emitMethod};a[this.eventMethods.listen]||
(this.eventMethods.listen=m.isDomNode(a)?"addEventListener":"on");a[this.eventMethods.remove]||(this.eventMethods.remove=m.isDomNode(a)?"removeEventListener":"removeListener");a[this.eventMethods.emit]||(this.eventMethods.emit=m.isDomNode(a)?"dispatchEvent":"emit");break;case !v(this.descriptor,"func"):g="Proxy";break;case !d:g="DOMRadio";break;case !g:g="DOMCheckbox";break;case !v(this.descriptor,"attr"):g="DOMAttr";break;default:g="ObjectProp"}v(this.descriptor,"multi")?(a.length||G("emptyList"),
this.defineMainProps(new L(this,a,g))):this.defineMainProps(this.createBinding(a,g,this,b));v(this._.type,"Event")||v(this._.type,"Proxy")?this.options.updateOnBind=!1:v(this._.type,"Func")&&(this.options.updateOnBind=!0);return this.completeCallback?this.completeCallback(this):this},addToPublisher:function(a){var c;a.stage=2;a.subs.push(this);var b=a._.addSub(this._,a.options,a.updateOnce);if(a.updateOnce)delete a.updateOnce;else if(a.options.updateOnBind&&!b)if(this._.isMulti){var e=this._.bindings;
var d=0;for(c=e.length;d<c;d++)b=e[d],a._.updateSub(b,a._)}else a._.updateSub(this._,a._)}};E.prototype=Object.create(U,{of:{get:function(){if(!this.stage)return da}},set:{get:function(){if(this.stage)return ea}},chainTo:{get:function(){if(2===this.stage)return fa}},transformSelf:{get:function(){if(1===this.stage)return ga}},transform:{get:function(){if(2===this.stage)return ha}},transformAll:{get:function(){if(2===this.stage)return ia}},condition:{get:function(){if(2===this.stage)return ja}},conditionAll:{get:function(){if(2===
this.stage)return ka}},bothWays:{get:function(){if(2===this.stage)return la}},unBind:{get:function(){if(2===this.stage)return ma}},pollEvery:{get:function(){if(this.stage)return na}},stopPolling:{get:function(){if(this.stage)return oa}},setOption:{get:function(){if(2===this.stage)return pa}},disallowFrom:{get:function(){var a;if(2===this.stage&&(a=this))return A(!1,function(c){a._.addDisallowRule(a.subs[a.subs.length-1]._,c._);return a})}},updateOn:{get:function(){var a;if(this.stage&&(a=this))return A(!1,
function(c){c._!==a._&&(a._.pubsMap[c._.ID]=c._,c._.addSub(X(a._,!0),c.options,!1,!0));return a})}},removeUpdater:{get:function(){var a,b;if(this.stage&&(b=this)&&(a=this._.selfUpdater))return A(!1,function(c){c._.subsMeta[a.ID]&&(delete b._.pubsMap[c._.ID],c._.removeSub(a))})}},to:{get:function(){var a;if(1===this.stage&&(a=this))return A(!0,function(c){c._!==a._&&c.addToPublisher(a);return a})}},and:{get:function(){var a=this.selfClone();if(2===this.stage)return a;if(1===this.stage){if(!a._.isMulti){var b=
a._;a._=a._=new L(a);a._.addBinding(b)}return A(!1,function(c){a._.addBinding(c._);return a})}}},once:{get:function(){if(1===this.stage){var a=this.selfClone();a.updateOnce=!0;return a}}},update:{get:function(){return this.set}},twoWay:{get:function(){return this.bothWays}},pipe:{get:function(){return this.chainTo}}});var da=function(a){m.isObject(a)||m.isFunction(a)||ba(a);m.isBindingInterface(a)&&(a=a.object);this.stage=1;return this.setObject(a)};var fa=function(a,b,e){return x(this.subs[this.subs.length-
1]).to(a,b,e)};var ea=function(a){this._.setValue(a);return this};var ga=function(a){m.isFunction(a)?this._.setSelfTransform(a,this.options.updateOnBind):C("fnOnly",1);return this};var ha=function(a){this._.addModifierFn("transformFn",this.subs.slice(-1),a,this.options.updateOnBind);return this};var ia=function(a){this._.addModifierFn("transformFn",this.subs,a,this.options.updateOnBind);return this};var ja=function(a){this._.addModifierFn("conditionFn",this.subs.slice(-1),a);return this};var ka=function(a){this._.addModifierFn("conditionFn",
this.subs,a);return this};var la=function(a){var b;var c=this.subs[this.subs.length-1];var e=c._;var d=this._.isMulti?this._.bindings:[this._];e.addSub(this._,c.options);c=0;for(b=d.length;c<b;c++){var g=d[c];var f=g.subsMeta[e.ID].transformFn;g=g.subsMeta[e.ID].conditionFn;(f||a)&&(f=m.isFunction(a)?a:f)&&!1!==a&&(e.subsMeta[this._.ID].transformFn=f);g&&(e.subsMeta[this._.ID].conditionFn=g)}return this};var ma=function(a){var b;var c=this.subs;var e=0;for(b=c.length;e<b;e++){var d=c[e];this._.removeSub(d._,
a)}return this};var na=function(a){this._.addPollInterval(a);return this};var oa=function(){this._.removePollInterval();return this};var pa=function(a,b){this._.subsMeta[this.subs[this.subs.length-1]._.ID].opts[a]=b;return this};var L=function(a,b,e){var c,d;a.selector=a.selector.slice(6);J(this,this["interface"]=a);this.isMulti=!0;this.bindings=c=[];if(b)for(a=0,d=b.length;a<d;a++){var g=b[a];this.addBinding(g,e)}return Object.defineProperties(this,{type:{get:function(){return c.map(function(a){return a.type})}},
value:{get:function(){return c.map(function(a){return a.value})}}})};var V=L.prototype=Object.create(U);Object.keys(B.prototype).forEach(function(a){return V[a]=function(b,c,e,d){var g;var f=this.bindings;var h=0;for(g=f.length;h<g;h++){var k=f[h];"updateSub"===a&&(c=k);k[a](b,c,e,d)}}});V.addBinding=function(a,b){this.bindings.push(b?this.createBinding(a,b,this["interface"]):a)};return null!=("undefined"!==typeof b&&null!==b?b.exports:void 0)?b.exports=x:"function"===typeof define&&define.amd?define(["simplybind"],
function(){return x}):this.SimplyBind=x})();return b.exports}.call(this,{}));var l=function(a,b){this.container=a;null==b&&(b={});this.options=D({},l.defaults,b);this.state={loading:!1,noResults:!1,error:!1};this.ID=++M;this.tableID="#"+this.options.baseClass+"-"+this.ID;this.visibleRows=[];this.availableRows=[];this.allRows=[];this.largestBreakdownTotal=0;this.searchParam=this.searchCriteria="";this.sortBy=this.options.sortBy?this.options.sortBy:"";this.sortDirection=-1;this.currentPage=1;this.els=
{};this.els.tableOuterwrap=u(q.tableOuterwrap(u.extend({ID:this.ID},this.options)));this.els.table=u(q.table(this.options)).appendTo(this.els.tableOuterwrap);this.els.tableHeading=this.els.table.children().first().children();this.els.tableBody=this.els.table.children().last();this.els.noResultsMessage=u(q.noResults(this.options)).appendTo(this.els.tableOuterwrap);this.els.loadingMessage=u(q.loading(this.options)).appendTo(this.els.tableOuterwrap);this.els.errorMessage=u(q.error(this.options)).appendTo(this.els.tableOuterwrap);
this.els.pageStatus=u(q.pageStatus(this.options)).appendTo(this.els.tableOuterwrap);this.els.pagination=u(q.pagination(this.options)).appendTo(this.els.tableOuterwrap);this.els.paginationItems=this.els.pagination.children("._paginationItems");this.els.paginationExtra=this.els.pagination.children("._extraIndicator");this.els.paginationExtraSelect=this.els.paginationExtra.children("select");this.els.paginationExtraText=this.els.paginationExtraSelect.prev();this.els.searchField=u(q.searchField(this.options)).insertBefore(this.els.table);
this.els.searchParam=this.els.searchField.children("select");this.els.searchCriteria=this.els.searchField.children("input");this.els.globalStyles=u("<style />").prependTo(this.els.tableOuterwrap);this.els.tableHeading.append(this.generateHeadingColumns());this.els.tableOuterwrap.appendTo(this.container);this.els.table.data("DataTable",this);this.options.minWidth&&(this.els.table[0].style.minWidth=this.options.minWidth+"px");Promise.bind(this).then(this.attachEvents).then(this.attachBindings).then(function(){if(this.options.loadOnInit)return this.loadData()});
return this};l.prototype.fetchData=function(){this.state.loading=!0;return this.options.data().then(function(a){return function(b){a.state.loading=!1;return Promise.resolve(b)}}(this))["catch"](function(a){return function(b){return a.state.error=b}}(this))};l.prototype.setData=function(a){if(Array.isArray(a))return this.allRows=a};l.prototype.loadData=function(){var a;if(this.allRows.length){var b=this.allRows;var d=0;for(a=b.length;d<a;d++){var f=b[d];this.unprocessRow(f)}}return this.fetchData().then(function(a){return function(b){return a.setData(b)}}(this))};
l.prototype.markupArgs=function(a){null==a&&(a={});a.baseClass=this.options.baseClass;return a};l.prototype.calcPageCount=function(a){this.pageCountReal=Math.ceil(a.length/this.options.perPage);return this.pageCount=this.pageCountReal>this.options.pageCountMax?this.options.pageCountMax:this.pageCountReal};l.prototype.calcPercentageString=function(a,b,d){b=this.options.percentage[b];var f=b[0];var e=b[2];var g=b[1];b=function(){switch(g){case "*":return d[f]*d[e];case "/":return d[f]/d[e];case "+":return d[f]+
d[e];case "-":return d[f]-d[e]}}();Infinity===b&&(b=0);b=convertToPercent(b);return a+" ("+b+")"};l.prototype.sortRows=function(a,b){null==b&&(b=this.options.sortBy);switch(!1){case "+"!==b:return a;case "-"!==b:return null!=a?a.slice().reverse():void 0;case !this.options.columns[b]:var d=this.options.columns[b].sortFn;var f=this.options.columns[b].rawValueFormatter;return a.slice().sort(d||function(a){return function(e,d){var g=f?f(e[b]):e[b];var h=f?f(d[b]):d[b];switch(!1){case !(g>h):return a.sortDirection;
case !(g<h):return-1*a.sortDirection;default:return 0}}}(this));default:return a}};l.prototype.setVisiblePage=function(a){var b;a--;var d=this.availableRows.slice(a*this.options.perPage,a*this.options.perPage+this.options.perPage);var f=this.visibleRows.slice();a=0;for(b=f.length;a<b;a++){var e=f[a];e.visible=!1}this.visibleRows.length=0;return this.visibleRows.push.apply(this.visibleRows,d)};l.prototype.setPageIndicator=function(a){"..."===a&&(a=1);a=a>this.options.pageCountMax?this.options.pageCountMax:
a-1;var b=this.els.pagination.find("._paginationItem").slice(1,-1);a=b.eq(a);a.addClass("current");return b.not(a).removeClass("current")};l.prototype.generateHeadingColumns=function(){var a,b;this.options.columns=t.normalizeColumns(this.options.columns);(function(){var d=this.options.columns;var f=[];for(b in d)a=d[b],f.push("breakdownBar"===a.type);return f}).call(this)&&(this.hasBreakdownBar=!0);return Object.keys(this.options.columns).map(function(b){return function(d){a=b.options.columns[d];
b.els.globalStyles[0].innerHTML+="{{"+a.slug+"}}\n";return q.headingCell(b.markupArgs({slug:a.slug,icon:a.icon,label:a.label,style:t.genHeaderCellStyle(a),extraClasses:t.genCellClassname(a)}))}}(this)).join("")};l.prototype.updateColumns=function(a){a=t.normalizeColumns(a);D(!0,this.options.columns,a);return this.currentPage=this.currentPage};l.prototype.processRow=function(a){var b;a.processed||(this.generateRow(a),n("visible",{updateEvenIfSame:!0}).of(a).to(function(b){return function(d,e){if(d){if(a.el.appendTo(b.els.tableBody),
b.hasBreakdownBar&&!a.updatedBreakdownWidth&&d!==e)return a.breakdownBarWidth=t.getBreakdownBarWidth(a,b.largestBreakdownTotal)}else return a.el.detach()}}(this)),this.hasBreakdownBar&&null!=(b=a.breakdownBarEl)&&b.length&&n("largestBreakdownTotal").of(this).to("updatedBreakdownWidth").of(a).transform(function(){return a.visible?!0:!1}).and.to("breakdownBarWidth").of(a).transform(function(b){return function(){return t.getBreakdownBarWidth(a,b.largestBreakdownTotal)}}(this)).chainTo("width").of(a.breakdownBarEl[0].style).transform(function(a){return a+
"%"}).and.to(function(b){return function(){var b,e;var d=a.drilldownEls;var h=b=0;for(e=d.length;b<e;h=++b){var k=d[h];h=t.getBreakdownBarWidth(a.drilldown[h],a.drilldown.largestBreakdownTotal);null!=(k=u(k).children(".is_breakdown_bar").children().children()[0])&&(k.style.width=h+"%")}}}(this)).condition(function(){return a.drilldown}).conditionAll(function(){return a.visible}),a.processed=!0);return a};l.prototype.unprocessRow=function(a){if(a.processed)return n.unBindAll(a,!0),this.hasBreakdownBar&&
a.breakdownBarEl[0]&&n.unBindAll(a.breakdownBarEl[0].style),a.el.remove(),delete a.el,delete a.drilldownEls,delete a.visible,delete a.breakdownBarEl,delete a.processed};l.prototype.reRenderRow=function(a){return this.generateRow(a)};l.prototype.generateRow=function(a){var b=a.el;var d=a.el=u(this.generateRowMarkup(a)).data("row",a);b&&b.replaceWith(d);a.drilldown&&(a.expandButton=a.el.children().first());a.drilldown&&(a.drilldownEls=a.el.children("._tableRowDrilldown").children());this.hasBreakdownBar&&
(a.breakdownBarEl=a.el.children(".isBreakdownBar").children().children());b||(a.visible=!1);a.drilldown&&(this.hasBreakdownBar&&(a.drilldown.largestBreakdownTotal=Math.max.apply(Math,a.drilldown.map(function(a){return a.breakdownBarTotal}))),n("drilldownOpen").of(a).to("className.drilldownState").of(a.el).transform(function(a){return a?"hasDrilldown drilldownIsOpen":"hasDrilldown"}),n("visible").of(a).once.to(function(){return n(function(){if(!a.drilldownOpen)return setTimeout(function(){var b=a.el.height();
var e=a.expandButton.height();return a.expandButton[0].style.top=b/2-e/2+"px"})}).updateOn("event:resize",{throttle:300}).of(window)}).condition(function(a){return a}));return a};l.prototype.generateRowMarkup=function(a,b){var d=!!b;return q.row(this.markupArgs({rowID:d?b[this.options.uniqueID]:a[this.options.uniqueID],drilldown:d?"":a.drilldown?function(b){return function(){var e;var d="";var f=a.drilldown;var k=0;for(e=f.length;k<e;k++){var r=f[k];d+=b.generateRowMarkup(r,a)}return d}}(this)():
void 0,cells:function(b){return function(){var e;var d="";var f=b.options.columns;for(e in f){var k=f[e];var r=a[e];b.options.percentage[e]&&(r=b.calcPercentageString(r,e,a));d+=q.rowCell(b.markupArgs({label:"string"===typeof r?r:"",column:e,slug:k.slug,extraClasses:t.genCellClassname(k),style:t.genCellStyle(k),value:function(){switch(!1){case "fields"!==k.type:return b.generateInlineFields(r,a,k);case "ipDetails"!==k.type:return b.generateIpDetails(r,a,k);case "breakdownBar"!==k.type:return b.generateBreakdownBar(r,
a,k);case "button"!==k.type:return b.generateButton(k.action||r,k.buttonIcon||k.icon);case "actions"!==k.type:return b.generateActions(k,a,k);case !k.isLink:return"<a href='"+r+"' target='_blank'>"+r+"</a>";default:return k.formatter?k.formatter(r,a,k):r}}()}))}return d}}(this)()}))};l.prototype.generateBreakdownBar=function(a,b,d){var f;var e=this.legend||Object.keys(a);return(b.breakdownBarTotal=f=this.getBreakdownTotal(a,e))?q.breakdownBar(this.markupArgs({total:f,totalFormatted:d.valueFormat?
d.valueFormat(f):f,bars:function(){var b;var d="";var k=0;for(b=e.length;k<b;k++){var r=e[k];r=a[r];d+=q.block_table_body_row_cell_breakdown_bar.replace("{{width}}",r/f*100)}return d}(),hoverBox:function(){return q.block_table_body_row_cell_breakdown_hoverbox.replace("{{rows}}",function(){var b="";e.forEach(function(e,g){return b+=q.block_table_body_row_cell_breakdown_hoverbox_row.replace("{{color}}",customColors(g)).replace("{{key}}",e).replace("{{value}}",d.valueFormat?d.valueFormat(a[e]):a[e])});
return b})}()})):"N/A"};l.prototype.generateInlineFields=function(a){return q.fields(this.markupArgs({fields:function(b){return function(){var d,f;return"object"!==typeof a?"":function(){var b=[];for(d in a)f=a[d],b.push(q.fieldsItem(this.markupArgs({label:d,value:f})));return b}.call(b).join("")}}(this)()}))};l.prototype.generateButton=function(a,b,d){return q.button(this.markupArgs({action:a,icon:b,isMulti:d}))};l.prototype.generateActions=function(a){null==a.actions&&(a.actions="multiActions");
var b=this.generateButton(a.actions,a.buttonIcon||a.icon,!0);a=q.actions(this.markupArgs({actions:function(a){return function(){var b;return a.options.actions?function(){var a;var d=this.options.actions;var f=[];var k=0;for(a=d.length;k<a;k++)b=d[k],f.push(q.actionsItem(this.markupArgs(b)));return f}.call(a).join(""):""}}(this)()}));return b+a};l.prototype.generateIpDetails=function(a,b,d){return q.ipDetails(this.markupArgs({ipAddress:a,extra:"function"===typeof d.extraMarkup?d.extraMarkup(a,b):void 0}))};
l.prototype.attachEvents=function(){this.els.pagination.on("click","._paginationItem",function(a){return function(b){b=u(b.currentTarget);var d=b.hasClass("_back");var f=b.hasClass("_next");var e=b.hasClass("_extraIndicator");if(d){if(1!==a.currentPage)return a.currentPage--}else if(f){if(a.currentPage!==a.pageCountReal)return a.currentPage++}else if(!e)return b=parseFloat(b.children().html()),a.currentPage=b}}(this));this.els.tableHeading.on("click","._isSortable",function(a){return function(b){return a.sortBy=
b.currentTarget.children[0].textContent}}(this));this.els.tableBody.on("click","._actionButton",function(a){return function(b){var d=u(b.currentTarget);if(d.hasClass("_isMulti"))return t.toggleActionsPopup(d.next().children());var f=d.closest("._tableRow");b=d.data("action");var e=f.data("row-id");f.data("index");f=e?a.allRows.find(function(b){return t.compareValues(b[a.options.uniqueID],e)}):void 0;null==f&&(f=e);d.hasClass("_subActionButton")&&t.toggleActionsPopup(d.parent());return a.els.table.trigger("action."+
b,f)}}(this));this.els.tableBody.on("click","._expandDrilldown",function(a){return function(a){a=u(a.currentTarget).parent().data("row");return a.drilldownOpen=!a.drilldownOpen}}(this));this.els.tableBody.on("mouseover","._ipDetails-trigger",function(a){return function(b){var d=u(b.currentTarget);var f=d.parent();var e=d.next();e.next();b=f.data("ip");if(!d.hasClass("_isReady"))return a.options.ipDataFetcher(b).then(function(b){var d,g;if(b){var r=function(){var a=[];for(d in b)g=b[d],a.push(q.ipDetailsItem(this.markupArgs({label:d,
value:g})));return a}.call(a);e.html(r.join(""));return f.addClass("_isReady")}})}}(this));return Promise.resolve()};l.prototype.attachBindings=function(){var a;n.settings.trackArrayChildren=!1;n("noResults").of(this.state).to("className.isVisible").of(this.els.noResultsMessage).transform(function(a){return function(b){return b&&!a.state.loading?"is_visible":""}}(this)).and.to("className.noResults").of(this.els.tableOuterwrap).transform(function(a){return function(b){return b&&!a.state.loading?"_noResults":
""}}(this));n("loading").of(this.state).to("className.isVisible").of(this.els.loadingMessage).transform(function(a){return a?"is_visible":""}).and.to("className.loading").of(this.els.tableOuterwrap).transform(function(a){return function(a){return a?"_loading":""}}(this)).and.to(function(a){return function(b){return b?a.state.noResults=!1:a.state.noResults=!a.visibleRows.length}}(this));n("error").of(this.state).to("textContent.errorMessage").of(this.els.errorMessage).and.to("className.isVisible").of(this.els.errorMessage).transform(function(a){return a?
"is_visible":""}).and.to("className.hasError").of(this.els.tableOuterwrap).transform(function(a){return a?"_error":""}).and.to(function(a){if(a)return console.error(a)});this.options.hasMobile&&(this.windowWidth=window.innerWidth,n("event:resize").of(window).to(function(a){return function(){return a.windowWidth=window.innerWidth}}(this)),n("windowWidth").of(this).to("className.mobileVersion").of(this.els.tableOuterwrap).transform(function(a){return function(b){return b<=a.options.mobileWidth?"_mobileVersion":
""}}(this)));var b=this.options.columns;var d=function(a){return function(b){return n("hidden").of(b).to("innerHTML."+b.slug).of(a.els.globalStyles).transform(function(e){return e?a.tableID+" .__"+b.slug+" {display:none}":""})}}(this);for(a in b){var f=b[a];d(f)}n("array:visibleRows").of(this).to(function(a){return function(b,e){var d,g;if(null!=e&&e.length){var f=0;for(d=e.length;f<d;f++){var h=e[f];h.visible=!1}}try{var l=0;for(g=b.length;l<g;l++)h=b[l],a.processRow(h),h.visible=!0}catch(W){a.state.error=
W}return a.state.noResults=!b.length}}(this)).and.to(function(a){return function(b){var e;if(a.hasBreakdownBar){var d=0;for(e=b.length;d<e;d++){var g=b[d];if(g.breakdownBarTotal>f||"undefined"===typeof f||null===f)var f=g.breakdownBarTotal}return a.largestBreakdownTotal=f||0}}}(this)).and.to("textContent.rowRange").of(this.els.pageStatus).transform(function(a){return function(b){return a.availableRows.indexOf(b[0])+1+"-"+(a.availableRows.indexOf(b.slice(-1)[0])+1)}}(this));n("array:allRows").of(this).to(function(a){return function(b){a.searchCriteria=
"";a.currentPage=1;a.state.noResults=!b.length;return a.sortBy===a.options.sortBy?(a.sortBy="",a.sortBy=a.options.sortBy):a.sortBy=""}}(this));n("availableRows",{updateOnBind:!1,updateEvenIfSame:!0}).of(this).to(function(a){return function(b){return a.calcPageCount(b)}}(this)).and.to("textContent.totalRows").of(this.els.pageStatus).transform(function(a){return a.length});n("pageCount").of(this).to("innerHTML").of(this.els.paginationItems).transform(function(a){return function(b){var e,d;var f="";
for(d=e=1;1<=b?e<=b:e>=b;d=1<=b?++e:--e)0!==d&&(f+=q.paginationItem(a.markupArgs({value:d})));return f}}(this)).and.to("className.isVisible").of(this.els.pagination).transform(function(a){return 1<a?"is_visible":""});n("pageCountReal").of(this).to("innerHTML").of(this.els.paginationExtraSelect).transform(function(a){return function(b){var e,d,f;if(b<=a.options.pageCountMax)return"";var g="<option>...</option>";for(d=e=f=a.options.pageCountMax+1;f<=b?e<=b:e>=b;d=f<=b?++e:--e)g+="<option>"+d+"</option>";
return g}}(this)).and.to("className.hasExtra").of(this.els.pagination).transform(function(a){return function(b){return b>a.options.pageCountMax?"has_extra":""}}(this));n("value",{updateOnBind:!1}).of(this.els.paginationExtraSelect).to("innerHTML").of(this.els.paginationExtraText).and.to("currentPage").of(this);n("currentPage",{updateEvenIfSame:!0}).of(this).transformSelf(function(a){return function(b){b="..."===b?1:parseFloat(b);return b>a.pageCountReal?a.pageCountReal:b}}(this)).to("value").of(this.els.paginationExtraSelect).transform(function(a){return function(b){return b>
a.options.pageCountMax?b:"..."}}(this)).and.to(function(a){return function(b){a.setVisiblePage(b);return a.setPageIndicator(b)}}(this));this.options.search.length&&(this.searchParam=this.options.search[0],n("search").of(this.options).to("innerHTML").of(this.els.searchParam).transform(function(a){return a.map(function(a){return"<option>"+a+"</option>"}).join("")}),n("value").of(this.els.searchParam).to("searchParam").of(this).pipe("attr:placeholder").of(this.els.searchCriteria).transform(function(a){return"Search by "+
a}));n("value").of(this.els.searchCriteria).to("searchCriteria",{updateEvenIfSame:!0}).of(this).bothWays().chainTo(function(a){return function(b){var d;var e=a.allRows;var g=a.options.columns[a.searchParam];b&&(g||null!=(null!=(d=a.allRows[0])?d[a.searchParam]:void 0))&&(e=e.filter(function(d){d=null!=g&&g.rawValueFormatter?g.rawValueFormatter(d[a.searchParam]):d[a.searchParam];return null!=d?d.toString().toLowerCase().includes(b.toLowerCase()):void 0}));a.options.rowFilter&&(e=e.filter(function(b){var d;
var e=u.extend({},b);b=a.options.columns;for(d in b)f=b[d],f.rawValueFormatter&&(e[d]=f.rawValueFormatter(e[d]));return a.options.rowFilter(e)}));a.availableRows=e;return a.currentPage=1}}(this));n("sortBy",{updateEvenIfSame:!0,updateOnBind:!1},!0).of(this).to(function(a){return function(b,d){if(b||d)return a.sortDirection=b===d&&d?-1*a.sortDirection:-1,a.availableRows=a.sortRows(a.availableRows,b?b:null),a.currentPage=1}}(this));this.els.tableHeading.children("._isSortable").length&&n("sortBy",{updateOnBind:!0}).of(this).to("multi:className.currentSort").of(this.els.tableHeading.children("._isSortable")).transform(function(a,
b,d){return a===d.children[0].textContent?"_currentSort":""});n("sortDirection").of(this).to("className.sortDirection").of(this.els.table).transform(function(a){return-1===a?"desc":"asc"});return Promise.resolve()};l.prototype.sortBy=function(a){};var M=0;l.version="2.8.2-temp2";l.helpers=t;l.markup=q;l.defaults={perPage:20,pageCountMax:10,minWidth:0,mobileWidth:736,cellsHavePadding:!1,hasMobile:!0,loadOnInit:!0,columns:[],search:[],percentage:{},baseClass:"DataTable",showPageStatus:!0,sortBy:"",
alignment:"left",actions:!1,ipDataFetcher:function(a){return new Promise(function(b){return u.get("http://ipinfo.io/"+a,b,"JSON")})}};return window.DataTable=l})(jQuery);
