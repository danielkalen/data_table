!function(t){var e,a,n,s;return s={tableOuterwrap:function(t){var a;return a=t.hasMinWidth,"<div class='"+e.defaults.baseClass+"-outerwrap {{loading}} {{noResults}} "+(a?"_hasMinWidth":"")+"'></div>"},table:function(t){var a;return a=t.alignment,"<div class='"+e.defaults.baseClass+" alignment---"+a+" sortDirection---{{sortDirection}}'> <div class='"+e.defaults.baseClass+"-heading'> <div class='"+e.defaults.baseClass+"-heading-row'> <div class='"+e.defaults.baseClass+"-heading-row-cell _expandButton'></div> </div> </div> <div class='"+e.defaults.baseClass+"-body'></div> </div>"},loading:function(){return"<div class='"+e.defaults.baseClass+"-loading {{isVisible}}'> <div class='"+e.defaults.baseClass+"-loading-innerwrap'> <div class='"+e.defaults.baseClass+"-loading-icon'></div> <div class='"+e.defaults.baseClass+"-loading-text'>Loading</div> </div> </div>"},noResults:function(t){var a,n,s,i;return n=null!=(s=t.itemSingleLabel)?s:"Item",a=null!=(i=t.itemPluralLabel)?i:n+"s","<div class='"+e.defaults.baseClass+"-noResults {{isVisible}}'> <div class='"+e.defaults.baseClass+"-noResults-innerwrap'> <div class='"+e.defaults.baseClass+"-noResults-icon'></div> <div class='"+e.defaults.baseClass+"-noResults-text'> <div class='"+e.defaults.baseClass+"-noResults-text-title'>No "+n+"s to Display</div> <div class='"+e.defaults.baseClass+"-noResults-text-subtitle'>There are no matching "+a+" for the search query you've typed.</div> </div> </div> </div>"},pageStatus:function(t){var a;return a=t.showPageStatus,"<div class='"+e.defaults.baseClass+"-pageStatus "+(a?"is_visible":"")+"'> Showing {{rowRange}} of {{totalRows}} </div>"},pagination:function(){return"<div class='"+e.defaults.baseClass+"-pagination {{hasExtra}} {{isVisible}}'> <div class='"+e.defaults.baseClass+"-pagination-item _paginationItem _back'> <div class='"+e.defaults.baseClass+"-pagination-item-text'></div> </div> <div class='"+e.defaults.baseClass+"-pagination-itemswrap _paginationItems'></div> <div class='"+e.defaults.baseClass+"-pagination-item _paginationItem _extraIndicator'> <div class='"+e.defaults.baseClass+"-pagination-item-text'></div> <select class='"+e.defaults.baseClass+"-pagination-item-select'></select> </div> <div class='"+e.defaults.baseClass+"-pagination-item _paginationItem _next'> <div class='"+e.defaults.baseClass+"-pagination-item-text'></div> </div> </div>"},paginationItem:function(t){var a;return a=t.value,"<div class='"+e.defaults.baseClass+"-pagination-item _paginationItem'> <div class='"+e.defaults.baseClass+"-pagination-item-text'>"+a+"</div> </div>"},headingCell:function(t){var a,n,s,i,r,o,l,u;return a=null!=(i=t.extraClasses)?i:"",l=t.slug,n=null!=(r=t.icon)?r:"",s=t.label,u=null!=(o=t.style)?o:"","<div class='"+e.defaults.baseClass+"-heading-row-cell "+a+" __"+l+"' data-slug='"+l+"' data-icon='"+n+"' "+u+"> <div class='"+e.defaults.baseClass+"-heading-row-cell-text'>"+s+"</div> </div>"},row:function(t){var a,n,s,i;return i=t.rowID,a=t.cells,n=null!=(s=t.drilldown)?s:"","<div class='"+e.defaults.baseClass+"-body-row _tableRow {{drilldownOpen}}' data-row-id='"+i+"'> <div class='"+e.defaults.baseClass+"-body-row-cell _expandButton'> <div class='"+e.defaults.baseClass+"-body-row-cell-expand'></div> </div> "+a+" <div class='"+e.defaults.baseClass+"-body-row-drilldown _tableRowDrilldown'> "+n+" </div> </div>"},rowCell:function(t){var a,n,s,i,r,o,l;return a=null!=(s=t.extraClasses)?s:"",n=t.label,r=t.slug,l=t.value,o=null!=(i=t.style)?i:"","<div class='"+e.defaults.baseClass+"-body-row-cell __"+r+" "+a+"' data-slug='"+r+"' "+o+"> <div class='"+e.defaults.baseClass+"-body-row-cell-innerwrap' title='"+n+"'>"+l+"</div> </div>"},searchField:function(t){var a;return a=t.search,"<div class='"+e.defaults.baseClass+"-search "+((null!=a?a.length:void 0)?"is_visible":"")+"'> <select class='"+e.defaults.baseClass+"-search-select'></select> <input class='"+e.defaults.baseClass+"-search-input' /> <div class='"+e.defaults.baseClass+"-search-selectTrigger'></div> </div>"},ipDetails:function(t){var a,n,s;return n=t.ipAddress,a=null!=(s=t.extra)?s:"","<div class='"+e.defaults.baseClass+"-ipDetails _ipDetails' data-ip='"+n+"'> <div class='"+e.defaults.baseClass+"-ipDetails-trigger _ipDetails-trigger'></div> <div class='"+e.defaults.baseClass+"-ipDetails-content'>Loading IP Details</div> </div> "+a},ipDetailsItem:function(t){var a,n;return a=t.label,n=t.value,"<div class='"+e.defaults.baseClass+"-ipDetails-content-item'> <div class='"+e.defaults.baseClass+"-ipDetails-content-item-label'>"+a+": </div> <div class='"+e.defaults.baseClass+"-ipDetails-content-item-value'>"+n+"</div> </div>"},fields:function(t){var a;return a=t.fields,"<div class='"+e.defaults.baseClass+"-fieldGroup'>"+a+"</div>"},fieldsItem:function(t){var a,n;return a=t.label,n=t.value,"<div class='"+e.defaults.baseClass+"-fieldGroup-item'> <div class='"+e.defaults.baseClass+"-fieldGroup-item-label'>"+a+": </div> <div class='"+e.defaults.baseClass+"-fieldGroup-item-value'>"+n+"</div> </div>"},button:function(t){var a,n,s,i;return a=t.action,n=null!=(i=t.icon)?i:"",s=t.isMulti,"<div class='"+e.defaults.baseClass+"-button _actionButton "+(s?"_isMulti":"")+"' data-action='"+a+"'> <div class='"+e.defaults.baseClass+"-button-icon'>"+n+"</div> </div>"},actions:function(t){var a;return a=t.actions,"<div class='"+e.defaults.baseClass+"-actions'> <div class='"+e.defaults.baseClass+"-actions-popup'>"+a+"</div> </div>"},actionsOverlay:function(){return"<div class='"+e.defaults.baseClass+"-actions-overlay'></div>"},actionsItem:function(t){var a,n,s,i,r;return a=t.action,s=t.icon,i=t.label,n=null!=(r=t.customIconStyle)?r:"","<div class='"+e.defaults.baseClass+"-actions-popup-item _actionButton _subActionButton' data-action='"+a+"' style='"+n+"'> <div class='"+e.defaults.baseClass+"-actions-popup-item-icon'>"+s+"</div> <div class='"+e.defaults.baseClass+"-actions-popup-item-text'>"+i+"</div> </div>"}},a={perPage:20,pageCountMax:10,minWidth:0,columns:[],search:[],percentage:{},baseClass:"DataTable",showPageStatus:!0,sortBy:"",alignment:"left",actions:!1,ipDataFetcher:function(e){return new Promise(function(a){return t.get("http://ipinfo.io/"+e,a,"JSON")})}},n={},n.compareValues=function(t,e){switch(!1){case typeof t!=typeof e:return t===e;case"string"!=typeof t:return t===""+e;case"number"!=typeof t:return t===parseFloat(e)}},n.toggleActionsPopup=function(e){var a,i;return a=e.data("isOpen"),a?(e.data("overlay").remove(),e.removeClass("is_visible")):(e.data("overlay",i=t(s.actionsOverlay())),e.addClass("is_visible"),i.appendTo(document.body).one("click",function(){return n.toggleActionsPopup(e)})),e.data("isOpen",!a)},n.getBreakdownTotal=function(t,e){switch(!1){case 0!==e.length:return 0;default:return e.map(function(e){return t[e]}).reduce(function(t,e){return t+e})}},n.normalizeColumns=function(t){var e,a,n,s,i,r,o,l;if(Array.isArray(t)){if(o={},"string"==typeof t[0])for(a=0,i=t.length;a<i;a++)s=t[a],o[s]={label:s};else if(null!=(l=t[0])?l.label:void 0)for(n=0,r=t.length;n<r;n++)e=t[n],o[e.label]=e}else o=t;for(s in o)e=o[s],null==e.label&&(e.label=s),null==e.slug&&(e.slug=e.label.toLowerCase().replace(/\W/g,"_")),null==e.type&&(e.type="text");return o},n.getBreakdownBarWidth=function(t,e){return t.breakdownBarTotal/e*82},n.genHeaderCellStyle=function(t){var e;return e="",t.width&&(e+="max-width: "+t.width+";"),t.grow>=0&&(e+="flex-grow: "+t.grow+";"),e?"style='"+e+"'":""},n.genCellStyle=function(t){var e,a;return a="",t.width&&(a+="max-width: "+t.width+";"),t.color&&(e=this.colorMapping(t.color,t.colorType),a+="color: "+e+";"),t.customStyle&&(a+=t.customStyle),t.grow>=0&&(a+="flex-grow: "+t.grow+";"),a?"style='"+a+"'":""},n.genCellClassname=function(t){var e;return e="",t.sortable&&(e+=" _isSortable {{currentSort}}"),t.noLabel&&(e+=" _noLabel"),t.isLink&&(e+=" _isLink"),t.noEllipsis&&(e+=" _noEllipsis"),t.showOverflow&&(e+=" _showOverflow"),t.color&&(e+=" _hasColor"),"button"!==t.type&&"actions"!==t.type||(e+=" _isButton",t.alwaysCenter=!0),"breakdownBar"===t.type&&(e+=" _isBreakdownBar"),"ipDetails"===t.type&&(e+=" _isIpDetails"),"fields"===t.type&&(e+=" _isFields"),t.alwaysCenter&&(e+=" _alwaysCenter"),e},n.colorMapping=function(t,e){switch(null==e&&(e="name"),e){case"browser":switch(!1){case!t.includes("Firefox"):return this.colorMapping("orange");case!t.includes("Chrome"):return this.colorMapping("green");case!t.includes("Safari"):return this.colorMapping("blue");case!t.includes("Mobile Safari"):return this.colorMapping("blue");case!t.includes("IE"):return this.colorMapping("lightblue");case!t.includes("Edge"):return this.colorMapping("lightblue");case!t.includes("Opera"):return this.colorMapping("red");case!t.includes("Android"):return this.colorMapping("lightgreen");default:return"unknown"}break;case"platform":switch(t){case"Mac OS X":return this.colorMapping("black");case"Windows":return this.colorMapping("lightblue");case"Windows Phone":return this.colorMapping("purple");case"Linux":return this.colorMapping("darkyellow");case"iOS":return this.colorMapping("black");case"Android":return this.colorMapping("lightgreen");default:return"unknown"}break;case"satisfaction":switch(t){case"Excellent":return this.colorMapping("green");case"Normal":return this.colorMapping("yellow");case"Poor":return this.colorMapping("red");default:return"unknown"}break;case"name":switch(t){case"orange":return"#ee6f0e";case"green":return"#00ad09";case"blue":return"#4788f3";case"yellow":return"#eab71e";case"red":return"#cc4820";case"black":return"#181818";case"purple":return"#a020ba";case"lightblue":return"#0cb3ee";case"lightgreen":return"#78c257";case"darkyellow":return"#e8ac01"}break;default:return t}},n.iconMapping=function(t,e){switch(e){case"browser":switch(!1){case!t.includes("Firefox"):return"#";case!t.includes("Chrome"):return"%";case!t.includes("Safari"):return"$";case!t.includes("Mobile Safari"):return"$";case!t.includes("IE"):return"&";case!t.includes("Edge"):return"&";case!t.includes("Opera"):return'"';case!t.includes("Android"):return"&#039;";default:return"4"}break;case"device":switch(t){case"Desktop":return"!";case"Tablet":return"7";case"Mobile":return"6";default:return"4"}break;case"platform":switch(t){case"Mac OS X":return"*";case"Windows":return")";case"Windows Phone":return")";case"Linux":return"+";case"iOS":return"*";case"Android":return"&#039;";default:return"4"}break;case"satisfaction":switch(t){case"Excellent":return"[";case"Normal":return"@";case"Poor":return"?";default:return"4"}break;default:return"4"}},e=function(a,n){return this.container=a,null==n&&(n={}),this.options=t.extend({},e.defaults,n),this.state={loading:!0,noResults:!1},this.visibleRows=[],this.availableRows=[],this.allRows=[],this.largestBreakdownTotal=0,this.searchCriteria="",this.searchParam="",this.sortBy=this.options.sortBy?this.options.sortBy:"",this.sortDirection=-1,this.currentPage=1,this.els={},this.els.tableOuterwrap=t(s.tableOuterwrap({hasMinWidth:this.options.minWidth})),this.els.table=t(s.table(this.options)).appendTo(this.els.tableOuterwrap),this.els.tableHeading=this.els.table.children().first().children(),this.els.tableBody=this.els.table.children().last(),this.els.noResultsMessage=t(s.noResults(this.options)).appendTo(this.els.tableOuterwrap),this.els.loadingMessage=t(s.loading()).appendTo(this.els.tableOuterwrap),this.els.pageStatus=t(s.pageStatus(this.options)).appendTo(this.els.tableOuterwrap),this.els.pagination=t(s.pagination()).appendTo(this.els.tableOuterwrap),this.els.paginationItems=this.els.pagination.children("._paginationItems"),this.els.paginationExtra=this.els.pagination.children("._extraIndicator"),this.els.paginationExtraSelect=this.els.paginationExtra.children("select"),this.els.paginationExtraText=this.els.paginationExtraSelect.prev(),this.els.searchField=t(s.searchField(this.options)).insertBefore(this.els.table),this.els.searchParam=this.els.searchField.children("select"),this.els.searchCriteria=this.els.searchField.children("input"),this.els.tableHeading.append(this.generateHeadingColumns()),this.els.tableOuterwrap.appendTo(this.container),this.els.table.data("DataTable",this),this.options.minWidth&&(this.els.table[0].style.minWidth=this.options.minWidth+"px"),Promise.bind(this).then(this.attachEvents).then(this.attachBindings).then(this.loadData),this},e.prototype.fetchData=function(){return this.state.loading=!0,this.options.data().then(function(t){return function(e){return t.state.loading=!1,Promise.resolve(e)}}(this))},e.prototype.setData=function(t){if(Array.isArray(t))return this.allRows=t},e.prototype.loadData=function(){var t,e,a,n;if(this.allRows.length)for(a=this.allRows,t=0,e=a.length;t<e;t++)n=a[t],this.unprocessRow(n);return this.fetchData().then(function(t){return function(e){return t.setData(e)}}(this))},e.prototype.calcPageCount=function(t){return this.pageCountReal=Math.ceil(t.length/this.options.perPage),this.pageCount=this.pageCountReal>this.options.pageCountMax?this.options.pageCountMax:this.pageCountReal},e.prototype.calcPercentageString=function(t,e,a){var n,s,i,r,o,l;return i=this.options.percentage[e],n=i[0],s=i[2],r=i[1],l=function(){switch(r){case"*":return a[n]*a[s];case"/":return a[n]/a[s];case"+":return a[n]+a[s];case"-":return a[n]-a[s]}}(),l===1/0&&(l=0),o=convertToPercent(l),t+" ("+o+")"},e.prototype.sortRows=function(t,e){var a,n;switch(null==e&&(e=this.options.sortBy),!1){case"+"!==e:return t;case"-"!==e:return null!=t?t.slice().reverse():void 0;case!this.options.columns[e]:return a=this.options.columns[e].sortFn,n=this.options.columns[e].rawValueFormatter,t.slice().sort(a||function(t){return function(a,s){var i,r;switch(i=n?n(a[e]):a[e],r=n?n(s[e]):s[e],!1){case!(i>r):return t.sortDirection;case!(i<r):return t.sortDirection*-1;default:return 0}}}(this));default:return t}},e.prototype.setVisiblePage=function(t){var e,a,n,s,i,r;for(t--,r={start:t*this.options.perPage,end:t*this.options.perPage+this.options.perPage},i=this.availableRows.slice(r.start,r.end),s=this.visibleRows.slice(),e=0,a=s.length;e<a;e++)n=s[e],n.visible=!1;return this.visibleRows.length=0,this.visibleRows.push.apply(this.visibleRows,i)},e.prototype.setPageIndicator=function(t){var e,a;return"..."===t&&(t=1),t=t>this.options.pageCountMax?this.options.pageCountMax:t-1,a=this.els.pagination.find("._paginationItem").slice(1,-1),e=a.eq(t),e.addClass("current"),a.not(e).removeClass("current")},e.prototype.processRow=function(e){return e.processed?e:(this.generateRow(e),SimplyBind("visible",{updateEvenIfSame:!0}).of(e).to(function(t){return function(a,s){return a?(e.el.appendTo(t.els.tableBody),t.hasBreakdownBar&&!e.updatedBreakdownWidth&&a!==s?e.breakdownBarWidth=n.getBreakdownBarWidth(e,t.largestBreakdownTotal):void 0):e.el.detach()}}(this)),this.hasBreakdownBar&&e.breakdownBarEl.length&&SimplyBind("largestBreakdownTotal").of(this).to("updatedBreakdownWidth").of(e).transform(function(){return!!e.visible}).and.to("breakdownBarWidth").of(e).transform(function(t){return function(){return n.getBreakdownBarWidth(e,t.largestBreakdownTotal)}}(this)).chainTo("width").of(e.breakdownBarEl[0].style).transform(function(t){return t+"%"}).and.to(function(a){return function(){var a,s,i,r,o,l,u;for(o=e.drilldownEls,i=s=0,r=o.length;s<r;i=++s)a=o[i],u=n.getBreakdownBarWidth(e.drilldown[i],e.drilldown.largestBreakdownTotal),null!=(l=t(a).children(".is_breakdown_bar").children().children()[0])&&(l.style.width=u+"%")}}(this)).conditionAll(function(){return e.visible}),e.processed=!0,e)},e.prototype.unprocessRow=function(t){if(t.processed)return SimplyBind.unBindAll(t,!0),this.hasBreakdownBar&&t.breakdownBarEl[0]&&SimplyBind.unBindAll(t.breakdownBarEl[0].style),t.el.remove(),delete t.el,delete t.drilldownEls,delete t.visible,delete t.breakdownBarEl,delete t.processed},e.prototype.reRenderRow=function(t){return this.generateRow(t)},e.prototype.generateRow=function(e){var a,n;return n=e.el,a=e.el=t(this.generateRowMarkup(e)),n&&n.replaceWith(a),e.drilldownEls=e.el.children("._tableRowDrilldown").children(),e.breakdownBarEl=this.hasBreakdownBar?e.el.children(".isBreakdownBar").children().children():void 0,n||(e.visible=!1),e.drilldownOpen=!1,e.el.data("row",e),e.drilldown&&(this.els.table.addClass("isExpandingTable"),this.hasBreakdownBar&&(e.drilldown.largestBreakdownTotal=Math.max.apply(null,e.drilldown.map(function(t){return t.breakdownBarTotal})))),SimplyBind("drilldownOpen").of(e).to("className.drilldownOpen").of(e.el).transform(function(t){return t?"drilldown_is_open":""})},e.prototype.generateRowMarkup=function(t,e){var a;return a=!!e,s.row({rowID:a?e[this.options.uniqueID]:t[this.options.uniqueID],drilldown:a?"":t.drilldown?function(e){return function(){var a,n,s,i,r;for(a="",r=t.drilldown,s=0,i=r.length;s<i;s++)n=r[s],a+=e.generateRowMarkup(n,t);return a}}(this)():void 0,cells:function(e){return function(){var a,i,r,o,l;l="",o=e.options.columns;for(r in o)i=o[r],a=t[r],e.options.percentage[r]&&(a=e.calcPercentageString(a,r,t)),l+=s.rowCell({label:"string"==typeof a?a:"",slug:i.slug,extraClasses:n.genCellClassname(i),style:n.genCellStyle(i),value:function(){switch(!1){case"fields"!==i.type:return e.generateInlineFields(a,t,i);case"ipDetails"!==i.type:return e.generateIpDetails(a,t,i);case"breakdownBar"!==i.type:return e.generateBreakdownBar(a,t,i);case"button"!==i.type:return e.generateButton(i.action||a,i.buttonIcon||i.icon);case"actions"!==i.type:return e.generateActions(i,t,i);case!i.isLink:return"<a href='"+a+"' target='_blank'>"+a+"</a>";default:return i.formatter?i.formatter(a,t,i):a}}()});return l}}(this)()})},e.prototype.generateHeadingColumns=function(){var t,e;return this.options.columns=n.normalizeColumns(this.options.columns),function(){var a,n;a=this.options.columns,n=[];for(e in a)t=a[e],n.push("breakdownBar"===t.type);return n}.call(this)&&(this.hasBreakdownBar=!0),Object.keys(this.options.columns).map(function(e){return function(a){return t=e.options.columns[a],s.headingCell({slug:t.slug,icon:t.icon,label:t.label,style:n.genHeaderCellStyle(t),extraClasses:n.genCellClassname(t)})}}(this)).join("")},e.prototype.generateBreakdownBar=function(t,e,a){var n,i;return n=this.legend||Object.keys(t),e.breakdownBarTotal=i=this.getBreakdownTotal(t,n),i?s.breakdownBar({total:i,totalFormatted:a.valueFormat?a.valueFormat(i):i,bars:function(){var e,a,r,o,l;for(e="",a=0,o=n.length;a<o;a++)r=n[a],l=t[r],e+=s.block_table_body_row_cell_breakdown_bar.replace("{{width}}",l/i*100);return e}(),hoverBox:function(){return s.block_table_body_row_cell_breakdown_hoverbox.replace("{{rows}}",function(){var e;return e="",n.forEach(function(n,i){return e+=s.block_table_body_row_cell_breakdown_hoverbox_row.replace("{{color}}",customColors(i)).replace("{{key}}",n).replace("{{value}}",a.valueFormat?a.valueFormat(t[n]):t[n])}),e})}()}):"N/A"},e.prototype.generateInlineFields=function(t){return s.fields({fields:function(){var e,a,n;return"object"!=typeof t?"":(a=function(){var a;a=[];for(e in t)n=t[e],a.push(s.fieldsItem({label:e,value:n}));return a}(),a.join(""))}()})},e.prototype.generateButton=function(t,e,a){return s.button({action:t,icon:e,isMulti:a})},e.prototype.generateActions=function(t){var e,a;return null==t.actions&&(t.actions="multiActions"),a=this.generateButton(t.actions,t.buttonIcon||t.icon,!0),e=s.actions({actions:function(t){return function(){var e,a;return t.options.actions?(a=function(){var t,a,n,i;for(n=this.options.actions,i=[],t=0,a=n.length;t<a;t++)e=n[t],i.push(s.actionsItem(e));return i}.call(t),a.join("")):""}}(this)()}),a+e},e.prototype.generateIpDetails=function(t,e,a){return s.ipDetails({ipAddress:t,extra:"function"==typeof a.extraMarkup?a.extraMarkup(t,e):void 0})},e.prototype.attachEvents=function(){return this.els.pagination.on("click","._paginationItem",function(e){return function(a){var n,s,i,r,o;if(n=t(a.currentTarget),s=n.hasClass("_back"),r=n.hasClass("_next"),i=n.hasClass("_extraIndicator"),s){if(1!==e.currentPage)return e.currentPage--}else if(r){if(e.currentPage!==e.pageCountReal)return e.currentPage++}else if(!i)return o=parseFloat(n.children().html()),e.currentPage=o}}(this)),this.els.tableHeading.on("click","._isSortable",function(t){return function(e){return t.sortBy=e.currentTarget.children[0].textContent}}(this)),this.els.tableBody.on("click","._actionButton",function(e){return function(a){var s,i,r,o,l,u;return i=t(a.currentTarget),i.hasClass("_isMulti")?n.toggleActionsPopup(i.next().children()):(u=i.closest("._tableRow"),s=i.data("action"),o=u.data("row-id"),l=u.data("index"),r=o?e.allRows.find(function(t){return n.compareValues(t[e.options.uniqueID],o)}):void 0,null==r&&(r=o),i.hasClass("_subActionButton")&&n.toggleActionsPopup(i.parent()),e.els.table.trigger("action."+s,r))}}(this)),this.els.tableBody.on("click","._expandButton",function(e){return function(e){var a,n,s;return a=t(e.currentTarget),n=a.closest("tr"),s=n.data("row-id"),n.siblings(".is_sub").filter(function(){return this.dataset.rowId===s}).toggleClass("is_hidden"),n.toggleClass("expanded")}}(this)),this.els.tableBody.on("mouseover","._ipDetails-trigger",function(e){return function(a){var n,i,r,o,l,u;if(l=t(a.currentTarget),u=l.parent(),n=l.next(),i=n.next(),r=u.data("ip"),o=l.hasClass("_isReady"),!o)return e.options.ipDataFetcher(r).then(function(t){var e,a,i;if(t)return a=function(){var a;a=[];for(e in t)i=t[e],a.push(s.ipDetailsItem({label:e,value:i}));return a}(),n.html(a.join("")),u.addClass("_isReady")})}}(this)),Promise.resolve()},e.prototype.attachBindings=function(){return SimplyBind("noResults").of(this.state).to("className.isVisible").of(this.els.noResultsMessage).transform(function(t){return function(e){return e&&!t.state.loading?"is_visible":""}}(this)).and.to("className.noResults").of(this.els.tableOuterwrap).transform(function(t){return function(e){return e&&!t.state.loading?"_noResults":""}}(this)),SimplyBind("loading").of(this.state).to("className.isVisible").of(this.els.loadingMessage).transform(function(t){return t?"is_visible":""}).and.to("className.loading").of(this.els.tableOuterwrap).transform(function(t){return function(t){return t?"_loading":""}}(this)).and.to(function(t){return function(e){return e?t.state.noResults=!1:t.state.noResults=!t.visibleRows.length}}(this)),SimplyBind(this.visibleRows,{trackArrayChildren:!1}).to(function(t){return function(e,a){var n,s,i,r,o;if(null!=a?a.length:void 0)for(n=0,i=a.length;n<i;n++)o=a[n],o.visible=!1;for(s=0,r=e.length;s<r;s++)o=e[s],t.processRow(o),o.visible=!0;return t.state.noResults=!e.length}}(this)).and.to(function(t){return function(e){var a,n,s,i;if(t.hasBreakdownBar){for(a=0,s=e.length;a<s;a++)i=e[a],(i.breakdownBarTotal>n||"undefined"==typeof n||null===n)&&(n=i.breakdownBarTotal);return t.largestBreakdownTotal=n||0}}}(this)).and.to("textContent.rowRange").of(this.els.pageStatus).transform(function(t){return function(e){return t.availableRows.indexOf(e[0])+1+"-"+(t.availableRows.indexOf(e.slice(-1)[0])+1)}}(this)),SimplyBind("allRows").of(this).to(function(t){return function(e){return t.searchCriteria="",t.currentPage=1,t.state.noResults=!e.length,t.sortBy===t.options.sortBy?(t.sortBy="",t.sortBy=t.options.sortBy):t.sortBy=""}}(this)),SimplyBind("availableRows",{updateOnBind:!1,updateEvenIfSame:!0}).of(this).to(function(t){return function(e){return t.calcPageCount(e)}}(this)).and.to("textContent.totalRows").of(this.els.pageStatus).transform(function(t){return t.length}),SimplyBind("pageCount").of(this).to("innerHTML").of(this.els.paginationItems).transform(function(t){var e,a,n,i;for(a="",i=e=1,n=t;1<=n?e<=n:e>=n;i=1<=n?++e:--e)0!==i&&(a+=s.paginationItem({value:i}));return a}).and.to("className.isVisible").of(this.els.pagination).transform(function(t){return t>1?"is_visible":""}),SimplyBind("pageCountReal").of(this).to("innerHTML").of(this.els.paginationExtraSelect).transform(function(t){return function(e){var a,n,s,i,r;if(e<=t.options.pageCountMax)return"";for(s="<option>...</option>",n=a=i=t.options.pageCountMax+1,r=e;i<=r?a<=r:a>=r;n=i<=r?++a:--a)s+="<option>"+n+"</option>";return s}}(this)).and.to("className.hasExtra").of(this.els.pagination).transform(function(t){return function(e){return e>t.options.pageCountMax?"has_extra":""}}(this)),SimplyBind("value",{updateOnBind:!1}).of(this.els.paginationExtraSelect).to("innerHTML").of(this.els.paginationExtraText).and.to("currentPage").of(this),SimplyBind("currentPage",{updateEvenIfSame:!0}).of(this).transformSelf(function(t){return function(e){return e="..."===e?1:parseFloat(e),e>t.pageCountReal?t.pageCountReal:e}}(this)).to("value").of(this.els.paginationExtraSelect).transform(function(t){return function(e){return e>t.options.pageCountMax?e:"..."}}(this)).and.to(function(t){return function(e){return t.setVisiblePage(e),t.setPageIndicator(e)}}(this)),this.options.search.length&&(this.searchParam=this.options.search[0],SimplyBind("search").of(this.options).to("innerHTML").of(this.els.searchParam).transform(function(t){return t.map(function(t){return"<option>"+t+"</option>"}).join("")}),SimplyBind("value").of(this.els.searchParam).to("searchParam").of(this).pipe("attr:placeholder").of(this.els.searchCriteria).transform(function(t){return"Search by "+t})),SimplyBind("value").of(this.els.searchCriteria).to("searchCriteria",{updateEvenIfSame:!0}).of(this).bothWays().chainTo(function(t){return function(e){var a,n,s;return n=t.allRows,s=t.options.columns[t.searchParam],e&&(s||null!=(null!=(a=t.allRows[0])?a[t.searchParam]:void 0))&&(n=t.allRows.filter(function(a){var n;return n=(null!=s?s.rawValueFormatter:void 0)?s.rawValueFormatter(a[t.searchParam]):a[t.searchParam],null!=n?n.toString().toLowerCase().includes(e.toLowerCase()):void 0})),t.availableRows=n,t.currentPage=1}}(this)),SimplyBind("sortBy",{updateEvenIfSame:!0,updateOnBind:!1}).of(this).to(function(t){return function(e,a){var n;if(e||a)return e===a&&a?t.sortDirection*=-1:t.sortDirection=-1,n=e?e:null,t.availableRows=t.sortRows(t.availableRows,n),t.currentPage=1}}(this)),this.els.tableHeading.children("._isSortable").length&&SimplyBind("sortBy",{updateEvenIfSame:!0,updateOnBind:!0}).of(this).to("multi:className.currentSort").of(this.els.tableHeading.children("._isSortable")).transform(function(t,e,a){return t===a.children[0].textContent?"_currentSort":""}),SimplyBind("sortDirection").of(this).to("className.sortDirection").of(this.els.table).transform(function(t){return t===-1?"desc":"asc"}),Promise.resolve()},e.prototype.sortBy=function(t){},e.version="2.5.2",e.helpers=n,e.markup=s,e.defaults=a,window.DataTable=e}(jQuery);
