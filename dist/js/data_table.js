!function(e){var t,s,a,n;return n={tableOuterwrap:function(e){var s,a,n;return n=e.minWidth,a=e.hasMobile,s=e.cellsHavePadding,"<div class='"+t.defaults.baseClass+"-outerwrap {{loading}} {{noResults}} {{hasError}} "+(n?"_hasMinWidth":"")+" "+(a?"{{mobileVersion}}":"")+" "+(s?"_cellsHavePadding":"")+" '></div>"},table:function(e){var s;return s=e.alignment,"<div class='"+t.defaults.baseClass+" alignment---"+s+" sortDirection---{{sortDirection}}'> <div class='"+t.defaults.baseClass+"-heading'> <div class='"+t.defaults.baseClass+"-heading-row'> <div class='"+t.defaults.baseClass+"-heading-row-cell _expandButton'></div> </div> </div> <div class='"+t.defaults.baseClass+"-body'></div> </div>"},loading:function(){return"<div class='"+t.defaults.baseClass+"-loading {{isVisible}}'> <div class='"+t.defaults.baseClass+"-loading-innerwrap'> <div class='"+t.defaults.baseClass+"-loading-icon'></div> <div class='"+t.defaults.baseClass+"-loading-text'>Loading</div> </div> </div>"},noResults:function(e){var s,a,n,i;return a=null!=(n=e.itemSingleLabel)?n:"Item",s=null!=(i=e.itemPluralLabel)?i:a+"s","<div class='"+t.defaults.baseClass+"-noResults {{isVisible}}'> <div class='"+t.defaults.baseClass+"-noResults-innerwrap'> <div class='"+t.defaults.baseClass+"-noResults-icon'></div> <div class='"+t.defaults.baseClass+"-noResults-text'> <div class='"+t.defaults.baseClass+"-noResults-text-title'>No "+a+"s to Display</div> <div class='"+t.defaults.baseClass+"-noResults-text-subtitle'>There are no matching "+s+" for the search query you've typed.</div> </div> </div> </div>"},error:function(){return"<div class='"+t.defaults.baseClass+"-error {{isVisible}}'> <div class='"+t.defaults.baseClass+"-error-innerwrap'> <div class='"+t.defaults.baseClass+"-error-icon'></div> <div class='"+t.defaults.baseClass+"-error-text'> <div class='"+t.defaults.baseClass+"-error-text-title'>A Fatal Error has Occured</div> <div class='"+t.defaults.baseClass+'-error-text-subtitle\'>Report the following to the admin:<br />"{{errorMessage}}"</div> </div> </div> </div>'},pageStatus:function(e){var s;return s=e.showPageStatus,"<div class='"+t.defaults.baseClass+"-pageStatus "+(s?"is_visible":"")+"'> Showing {{rowRange}} of {{totalRows}} </div>"},pagination:function(){return"<div class='"+t.defaults.baseClass+"-pagination {{hasExtra}} {{isVisible}}'> <div class='"+t.defaults.baseClass+"-pagination-item _paginationItem _back'> <div class='"+t.defaults.baseClass+"-pagination-item-text'></div> </div> <div class='"+t.defaults.baseClass+"-pagination-itemswrap _paginationItems'></div> <div class='"+t.defaults.baseClass+"-pagination-item _paginationItem _extraIndicator'> <div class='"+t.defaults.baseClass+"-pagination-item-text'></div> <select class='"+t.defaults.baseClass+"-pagination-item-select'></select> </div> <div class='"+t.defaults.baseClass+"-pagination-item _paginationItem _next'> <div class='"+t.defaults.baseClass+"-pagination-item-text'></div> </div> </div>"},paginationItem:function(e){var s;return s=e.value,"<div class='"+t.defaults.baseClass+"-pagination-item _paginationItem'> <div class='"+t.defaults.baseClass+"-pagination-item-text'>"+s+"</div> </div>"},headingCell:function(e){var s,a,n,i,r,o,l,u;return s=null!=(i=e.extraClasses)?i:"",l=e.slug,a=null!=(r=e.icon)?r:"",n=e.label,u=null!=(o=e.style)?o:"","<div class='"+t.defaults.baseClass+"-heading-row-cell "+s+" __"+l+"' data-slug='"+l+"' data-icon='"+a+"' "+u+"> <div class='"+t.defaults.baseClass+"-heading-row-cell-text'>"+n+"</div> </div>"},row:function(e){var s,a,n,i;return i=e.rowID,s=e.cells,a=null!=(n=e.drilldown)?n:"","<div class='"+t.defaults.baseClass+"-body-row _tableRow {{drilldownOpen}}' data-row-id='"+i+"'> <div class='"+t.defaults.baseClass+"-body-row-cell _expandButton'> <div class='"+t.defaults.baseClass+"-body-row-cell-expand'></div> </div> "+s+" <div class='"+t.defaults.baseClass+"-body-row-drilldown _tableRowDrilldown'> "+a+" </div> </div>"},rowCell:function(e){var s,a,n,i,r,o,l,u;return a=null!=(i=e.extraClasses)?i:"",n=e.label,s=e.column,o=e.slug,u=e.value,l=null!=(r=e.style)?r:"","<div class='"+t.defaults.baseClass+"-body-row-cell __"+o+" "+a+"' data-slug='"+o+"' data-column='"+s+"' "+l+"> <div class='"+t.defaults.baseClass+"-body-row-cell-innerwrap' title='"+n+"'>"+u+"</div> </div>"},searchField:function(e){var s;return s=e.search,"<div class='"+t.defaults.baseClass+"-search "+((null!=s?s.length:void 0)?"is_visible":"")+"'> <select class='"+t.defaults.baseClass+"-search-select'></select> <input class='"+t.defaults.baseClass+"-search-input' /> <div class='"+t.defaults.baseClass+"-search-selectTrigger'></div> </div>"},ipDetails:function(e){var s,a,n;return a=e.ipAddress,s=null!=(n=e.extra)?n:"","<div class='"+t.defaults.baseClass+"-ipDetails _ipDetails' data-ip='"+a+"'> <div class='"+t.defaults.baseClass+"-ipDetails-trigger _ipDetails-trigger'></div> <div class='"+t.defaults.baseClass+"-ipDetails-content'>Loading IP Details</div> </div> "+s},ipDetailsItem:function(e){var s,a;return s=e.label,a=e.value,"<div class='"+t.defaults.baseClass+"-ipDetails-content-item'> <div class='"+t.defaults.baseClass+"-ipDetails-content-item-label'>"+s+": </div> <div class='"+t.defaults.baseClass+"-ipDetails-content-item-value'>"+a+"</div> </div>"},fields:function(e){var s;return s=e.fields,"<div class='"+t.defaults.baseClass+"-fieldGroup'>"+s+"</div>"},fieldsItem:function(e){var s,a;return s=e.label,a=e.value,"<div class='"+t.defaults.baseClass+"-fieldGroup-item'> <div class='"+t.defaults.baseClass+"-fieldGroup-item-label'>"+s+": </div> <div class='"+t.defaults.baseClass+"-fieldGroup-item-value'>"+a+"</div> </div>"},button:function(e){var s,a,n,i;return s=e.action,a=null!=(i=e.icon)?i:"",n=e.isMulti,"<div class='"+t.defaults.baseClass+"-button _actionButton "+(n?"_isMulti":"")+"' data-action='"+s+"'> <div class='"+t.defaults.baseClass+"-button-icon'>"+a+"</div> </div>"},actions:function(e){var s;return s=e.actions,"<div class='"+t.defaults.baseClass+"-actions'> <div class='"+t.defaults.baseClass+"-actions-popup'>"+s+"</div> </div>"},actionsOverlay:function(){return"<div class='"+t.defaults.baseClass+"-actions-overlay'></div>"},actionsItem:function(e){var s,a,n,i,r;return s=e.action,n=e.icon,i=e.label,a=null!=(r=e.customIconStyle)?r:"","<div class='"+t.defaults.baseClass+"-actions-popup-item _actionButton _subActionButton' data-action='"+s+"' style='"+a+"'> <div class='"+t.defaults.baseClass+"-actions-popup-item-icon'>"+n+"</div> <div class='"+t.defaults.baseClass+"-actions-popup-item-text'>"+i+"</div> </div>"}},s={perPage:20,pageCountMax:10,minWidth:0,mobileWidth:736,cellsHavePadding:!1,hasMobile:!0,columns:[],search:[],percentage:{},baseClass:"DataTable",showPageStatus:!0,sortBy:"",alignment:"left",actions:!1,ipDataFetcher:function(t){return new Promise(function(s){return e.get("http://ipinfo.io/"+t,s,"JSON")})}},a={},a.compareValues=function(e,t){switch(!1){case typeof e!=typeof t:return e===t;case"string"!=typeof e:return e===""+t;case"number"!=typeof e:return e===parseFloat(t)}},a.toggleActionsPopup=function(t){var s,i;return s=t.data("isOpen"),s?(t.data("overlay").remove(),t.removeClass("is_visible")):(t.data("overlay",i=e(n.actionsOverlay())),t.addClass("is_visible"),i.appendTo(document.body).one("click",function(){return a.toggleActionsPopup(t)})),t.data("isOpen",!s)},a.getBreakdownTotal=function(e,t){switch(!1){case 0!==t.length:return 0;default:return t.map(function(t){return e[t]}).reduce(function(e,t){return e+t})}},a.normalizeColumns=function(e){var t,s,a,n,i,r,o,l;if(Array.isArray(e)){if(o={},"string"==typeof e[0])for(s=0,i=e.length;s<i;s++)n=e[s],o[n]={label:n};else if(null!=(l=e[0])?l.label:void 0)for(a=0,r=e.length;a<r;a++)t=e[a],o[t.label]=t}else o=e;for(n in o)t=o[n],null==t.label&&(t.label=n),null==t.slug&&(t.slug=t.label.toLowerCase().replace(/\W/g,"_")),null==t.type&&(t.type="text");return o},a.getBreakdownBarWidth=function(e,t){return e.breakdownBarTotal/t*82},a.genHeaderCellStyle=function(e){var t;return t="",e.width&&(t+="max-width: "+e.width+";"),e.grow>=0&&(t+="flex-grow: "+e.grow+";"),t?"style='"+t+"'":""},a.genCellStyle=function(e){var t,s;return s="",e.width&&(s+="max-width: "+e.width+";"),e.color&&(t=this.colorMapping(e.color,e.colorType),s+="color: "+t+";"),e.customStyle&&(s+=e.customStyle),e.grow>=0&&(s+="flex-grow: "+e.grow+";"),s?"style='"+s+"'":""},a.genCellClassname=function(e){var t;return t="",e.sortable&&(t+=" _isSortable {{currentSort}}"),e.noLabel&&(t+=" _noLabel"),e.isLink&&(t+=" _isLink"),e.noEllipsis&&(t+=" _noEllipsis"),e.showOverflow&&(t+=" _showOverflow"),e.color&&(t+=" _hasColor"),"button"!==e.type&&"actions"!==e.type||(t+=" _isButton",e.alwaysCenter=!0),"breakdownBar"===e.type&&(t+=" _isBreakdownBar"),"ipDetails"===e.type&&(t+=" _isIpDetails"),"fields"===e.type&&(t+=" _isFields"),e.alwaysCenter&&(t+=" _alwaysCenter"),t},a.colorMapping=function(e,t){switch(null==t&&(t="name"),t){case"browser":switch(!1){case!e.includes("Firefox"):return this.colorMapping("orange");case!e.includes("Chrome"):return this.colorMapping("green");case!e.includes("Safari"):return this.colorMapping("blue");case!e.includes("Mobile Safari"):return this.colorMapping("blue");case!e.includes("IE"):return this.colorMapping("lightblue");case!e.includes("Edge"):return this.colorMapping("lightblue");case!e.includes("Opera"):return this.colorMapping("red");case!e.includes("Android"):return this.colorMapping("lightgreen");default:return"unknown"}break;case"platform":switch(e){case"Mac OS X":return this.colorMapping("black");case"Windows":return this.colorMapping("lightblue");case"Windows Phone":return this.colorMapping("purple");case"Linux":return this.colorMapping("darkyellow");case"iOS":return this.colorMapping("black");case"Android":return this.colorMapping("lightgreen");default:return"unknown"}break;case"satisfaction":switch(e){case"Excellent":return this.colorMapping("green");case"Normal":return this.colorMapping("yellow");case"Poor":return this.colorMapping("red");default:return"unknown"}break;case"name":switch(e){case"orange":return"#ee6f0e";case"green":return"#00ad09";case"blue":return"#4788f3";case"yellow":return"#eab71e";case"red":return"#cc4820";case"black":return"#181818";case"purple":return"#a020ba";case"lightblue":return"#0cb3ee";case"lightgreen":return"#78c257";case"darkyellow":return"#e8ac01"}break;default:return e}},a.iconMapping=function(e,t){switch(t){case"browser":switch(!1){case!e.includes("Firefox"):return"#";case!e.includes("Chrome"):return"%";case!e.includes("Safari"):return"$";case!e.includes("Mobile Safari"):return"$";case!e.includes("IE"):return"&";case!e.includes("Edge"):return"&";case!e.includes("Opera"):return'"';case!e.includes("Android"):return"&#039;";default:return"4"}break;case"device":switch(e){case"Desktop":return"!";case"Tablet":return"7";case"Mobile":return"6";default:return"4"}break;case"platform":switch(e){case"Mac OS X":return"*";case"Windows":return")";case"Windows Phone":return")";case"Linux":return"+";case"iOS":return"*";case"Android":return"&#039;";default:return"4"}break;case"satisfaction":switch(e){case"Excellent":return"[";case"Normal":return"@";case"Poor":return"?";default:return"4"}break;default:return"4"}},t=function(s,a){return this.container=s,null==a&&(a={}),this.options=e.extend({},t.defaults,a),this.state={loading:!0,noResults:!1,error:!1},this.visibleRows=[],this.availableRows=[],this.allRows=[],this.largestBreakdownTotal=0,this.searchCriteria="",this.searchParam="",this.sortBy=this.options.sortBy?this.options.sortBy:"",this.sortDirection=-1,this.currentPage=1,this.els={},this.els.tableOuterwrap=e(n.tableOuterwrap(this.options)),this.els.table=e(n.table(this.options)).appendTo(this.els.tableOuterwrap),this.els.tableHeading=this.els.table.children().first().children(),this.els.tableBody=this.els.table.children().last(),this.els.noResultsMessage=e(n.noResults(this.options)).appendTo(this.els.tableOuterwrap),this.els.loadingMessage=e(n.loading()).appendTo(this.els.tableOuterwrap),this.els.errorMessage=e(n.error()).appendTo(this.els.tableOuterwrap),this.els.pageStatus=e(n.pageStatus(this.options)).appendTo(this.els.tableOuterwrap),this.els.pagination=e(n.pagination()).appendTo(this.els.tableOuterwrap),this.els.paginationItems=this.els.pagination.children("._paginationItems"),this.els.paginationExtra=this.els.pagination.children("._extraIndicator"),this.els.paginationExtraSelect=this.els.paginationExtra.children("select"),this.els.paginationExtraText=this.els.paginationExtraSelect.prev(),this.els.searchField=e(n.searchField(this.options)).insertBefore(this.els.table),this.els.searchParam=this.els.searchField.children("select"),this.els.searchCriteria=this.els.searchField.children("input"),this.els.tableHeading.append(this.generateHeadingColumns()),this.els.tableOuterwrap.appendTo(this.container),this.els.table.data("DataTable",this),this.options.minWidth&&(this.els.table[0].style.minWidth=this.options.minWidth+"px"),Promise.bind(this).then(this.attachEvents).then(this.attachBindings).then(this.loadData),this},t.prototype.fetchData=function(){return this.state.loading=!0,this.options.data().then(function(e){return function(t){return e.state.loading=!1,Promise.resolve(t)}}(this)).catch(function(e){return function(t){return e.state.error=t}}(this))},t.prototype.setData=function(e){if(Array.isArray(e))return this.allRows=e},t.prototype.loadData=function(){var e,t,s,a;if(this.allRows.length)for(s=this.allRows,e=0,t=s.length;e<t;e++)a=s[e],this.unprocessRow(a);return this.fetchData().then(function(e){return function(t){return e.setData(t)}}(this))},t.prototype.calcPageCount=function(e){return this.pageCountReal=Math.ceil(e.length/this.options.perPage),this.pageCount=this.pageCountReal>this.options.pageCountMax?this.options.pageCountMax:this.pageCountReal},t.prototype.calcPercentageString=function(e,t,s){var a,n,i,r,o,l;return i=this.options.percentage[t],a=i[0],n=i[2],r=i[1],l=function(){switch(r){case"*":return s[a]*s[n];case"/":return s[a]/s[n];case"+":return s[a]+s[n];case"-":return s[a]-s[n]}}(),l===1/0&&(l=0),o=convertToPercent(l),e+" ("+o+")"},t.prototype.sortRows=function(e,t){var s,a;switch(null==t&&(t=this.options.sortBy),!1){case"+"!==t:return e;case"-"!==t:return null!=e?e.slice().reverse():void 0;case!this.options.columns[t]:return s=this.options.columns[t].sortFn,a=this.options.columns[t].rawValueFormatter,e.slice().sort(s||function(e){return function(s,n){var i,r;switch(i=a?a(s[t]):s[t],r=a?a(n[t]):n[t],!1){case!(i>r):return e.sortDirection;case!(i<r):return e.sortDirection*-1;default:return 0}}}(this));default:return e}},t.prototype.setVisiblePage=function(e){var t,s,a,n,i,r;for(e--,r={start:e*this.options.perPage,end:e*this.options.perPage+this.options.perPage},i=this.availableRows.slice(r.start,r.end),n=this.visibleRows.slice(),t=0,s=n.length;t<s;t++)a=n[t],a.visible=!1;return this.visibleRows.length=0,this.visibleRows.push.apply(this.visibleRows,i)},t.prototype.setPageIndicator=function(e){var t,s;return"..."===e&&(e=1),e=e>this.options.pageCountMax?this.options.pageCountMax:e-1,s=this.els.pagination.find("._paginationItem").slice(1,-1),t=s.eq(e),t.addClass("current"),s.not(t).removeClass("current")},t.prototype.processRow=function(t){return t.processed?t:(this.generateRow(t),SimplyBind("visible",{updateEvenIfSame:!0}).of(t).to(function(e){return function(s,n){return s?(t.el.appendTo(e.els.tableBody),e.hasBreakdownBar&&!t.updatedBreakdownWidth&&s!==n?t.breakdownBarWidth=a.getBreakdownBarWidth(t,e.largestBreakdownTotal):void 0):t.el.detach()}}(this)),this.hasBreakdownBar&&t.breakdownBarEl.length&&SimplyBind("largestBreakdownTotal").of(this).to("updatedBreakdownWidth").of(t).transform(function(){return!!t.visible}).and.to("breakdownBarWidth").of(t).transform(function(e){return function(){return a.getBreakdownBarWidth(t,e.largestBreakdownTotal)}}(this)).chainTo("width").of(t.breakdownBarEl[0].style).transform(function(e){return e+"%"}).and.to(function(s){return function(){var s,n,i,r,o,l,u;for(o=t.drilldownEls,i=n=0,r=o.length;n<r;i=++n)s=o[i],u=a.getBreakdownBarWidth(t.drilldown[i],t.drilldown.largestBreakdownTotal),null!=(l=e(s).children(".is_breakdown_bar").children().children()[0])&&(l.style.width=u+"%")}}(this)).conditionAll(function(){return t.visible}),t.processed=!0,t)},t.prototype.unprocessRow=function(e){if(e.processed)return SimplyBind.unBindAll(e,!0),this.hasBreakdownBar&&e.breakdownBarEl[0]&&SimplyBind.unBindAll(e.breakdownBarEl[0].style),e.el.remove(),delete e.el,delete e.drilldownEls,delete e.visible,delete e.breakdownBarEl,delete e.processed},t.prototype.reRenderRow=function(e){return this.generateRow(e)},t.prototype.generateRow=function(t){var s,a;return a=t.el,s=t.el=e(this.generateRowMarkup(t)),a&&a.replaceWith(s),t.drilldownEls=t.el.children("._tableRowDrilldown").children(),t.breakdownBarEl=this.hasBreakdownBar?t.el.children(".isBreakdownBar").children().children():void 0,a||(t.visible=!1),t.drilldownOpen=!1,t.el.data("row",t),t.drilldown&&(this.els.table.addClass("isExpandingTable"),this.hasBreakdownBar&&(t.drilldown.largestBreakdownTotal=Math.max.apply(null,t.drilldown.map(function(e){return e.breakdownBarTotal})))),SimplyBind("drilldownOpen").of(t).to("className.drilldownOpen").of(t.el).transform(function(e){return e?"drilldown_is_open":""})},t.prototype.generateRowMarkup=function(e,t){var s;return s=!!t,n.row({rowID:s?t[this.options.uniqueID]:e[this.options.uniqueID],drilldown:s?"":e.drilldown?function(t){return function(){var s,a,n,i,r;for(s="",r=e.drilldown,n=0,i=r.length;n<i;n++)a=r[n],s+=t.generateRowMarkup(a,e);return s}}(this)():void 0,cells:function(t){return function(){var s,i,r,o,l;l="",o=t.options.columns;for(r in o)i=o[r],s=e[r],t.options.percentage[r]&&(s=t.calcPercentageString(s,r,e)),l+=n.rowCell({label:"string"==typeof s?s:"",column:r,slug:i.slug,extraClasses:a.genCellClassname(i),style:a.genCellStyle(i),value:function(){switch(!1){case"fields"!==i.type:return t.generateInlineFields(s,e,i);case"ipDetails"!==i.type:return t.generateIpDetails(s,e,i);case"breakdownBar"!==i.type:return t.generateBreakdownBar(s,e,i);case"button"!==i.type:return t.generateButton(i.action||s,i.buttonIcon||i.icon);case"actions"!==i.type:return t.generateActions(i,e,i);case!i.isLink:return"<a href='"+s+"' target='_blank'>"+s+"</a>";default:return i.formatter?i.formatter(s,e,i):s}}()});return l}}(this)()})},t.prototype.generateHeadingColumns=function(){var e,t;return this.options.columns=a.normalizeColumns(this.options.columns),function(){var s,a;s=this.options.columns,a=[];for(t in s)e=s[t],a.push("breakdownBar"===e.type);return a}.call(this)&&(this.hasBreakdownBar=!0),Object.keys(this.options.columns).map(function(t){return function(s){return e=t.options.columns[s],n.headingCell({slug:e.slug,icon:e.icon,label:e.label,style:a.genHeaderCellStyle(e),extraClasses:a.genCellClassname(e)})}}(this)).join("")},t.prototype.generateBreakdownBar=function(e,t,s){var a,i;return a=this.legend||Object.keys(e),t.breakdownBarTotal=i=this.getBreakdownTotal(e,a),i?n.breakdownBar({total:i,totalFormatted:s.valueFormat?s.valueFormat(i):i,bars:function(){var t,s,r,o,l;for(t="",s=0,o=a.length;s<o;s++)r=a[s],l=e[r],t+=n.block_table_body_row_cell_breakdown_bar.replace("{{width}}",l/i*100);return t}(),hoverBox:function(){return n.block_table_body_row_cell_breakdown_hoverbox.replace("{{rows}}",function(){var t;return t="",a.forEach(function(a,i){return t+=n.block_table_body_row_cell_breakdown_hoverbox_row.replace("{{color}}",customColors(i)).replace("{{key}}",a).replace("{{value}}",s.valueFormat?s.valueFormat(e[a]):e[a])}),t})}()}):"N/A"},t.prototype.generateInlineFields=function(e){return n.fields({fields:function(){var t,s,a;return"object"!=typeof e?"":(s=function(){var s;s=[];for(t in e)a=e[t],s.push(n.fieldsItem({label:t,value:a}));return s}(),s.join(""))}()})},t.prototype.generateButton=function(e,t,s){return n.button({action:e,icon:t,isMulti:s})},t.prototype.generateActions=function(e){var t,s;return null==e.actions&&(e.actions="multiActions"),s=this.generateButton(e.actions,e.buttonIcon||e.icon,!0),t=n.actions({actions:function(e){return function(){var t,s;return e.options.actions?(s=function(){var e,s,a,i;for(a=this.options.actions,i=[],e=0,s=a.length;e<s;e++)t=a[e],i.push(n.actionsItem(t));return i}.call(e),s.join("")):""}}(this)()}),s+t},t.prototype.generateIpDetails=function(e,t,s){return n.ipDetails({ipAddress:e,extra:"function"==typeof s.extraMarkup?s.extraMarkup(e,t):void 0})},t.prototype.attachEvents=function(){return this.els.pagination.on("click","._paginationItem",function(t){return function(s){var a,n,i,r,o;if(a=e(s.currentTarget),n=a.hasClass("_back"),r=a.hasClass("_next"),i=a.hasClass("_extraIndicator"),n){if(1!==t.currentPage)return t.currentPage--}else if(r){if(t.currentPage!==t.pageCountReal)return t.currentPage++}else if(!i)return o=parseFloat(a.children().html()),t.currentPage=o}}(this)),this.els.tableHeading.on("click","._isSortable",function(e){return function(t){return e.sortBy=t.currentTarget.children[0].textContent}}(this)),this.els.tableBody.on("click","._actionButton",function(t){return function(s){var n,i,r,o,l,u;return i=e(s.currentTarget),i.hasClass("_isMulti")?a.toggleActionsPopup(i.next().children()):(u=i.closest("._tableRow"),n=i.data("action"),o=u.data("row-id"),l=u.data("index"),r=o?t.allRows.find(function(e){return a.compareValues(e[t.options.uniqueID],o)}):void 0,null==r&&(r=o),i.hasClass("_subActionButton")&&a.toggleActionsPopup(i.parent()),t.els.table.trigger("action."+n,r))}}(this)),this.els.tableBody.on("click","._expandButton",function(t){return function(t){var s,a,n;return s=e(t.currentTarget),a=s.closest("tr"),n=a.data("row-id"),a.siblings(".is_sub").filter(function(){return this.dataset.rowId===n}).toggleClass("is_hidden"),a.toggleClass("expanded")}}(this)),this.els.tableBody.on("mouseover","._ipDetails-trigger",function(t){return function(s){var a,i,r,o,l,u;if(l=e(s.currentTarget),u=l.parent(),a=l.next(),i=a.next(),r=u.data("ip"),o=l.hasClass("_isReady"),!o)return t.options.ipDataFetcher(r).then(function(e){var t,s,i;if(e)return s=function(){var s;s=[];for(t in e)i=e[t],s.push(n.ipDetailsItem({label:t,value:i}));return s}(),a.html(s.join("")),u.addClass("_isReady")})}}(this)),Promise.resolve()},t.prototype.attachBindings=function(){return SimplyBind.settings.trackArrayChildren=!1,SimplyBind("noResults").of(this.state).to("className.isVisible").of(this.els.noResultsMessage).transform(function(e){return function(t){return t&&!e.state.loading?"is_visible":""}}(this)).and.to("className.noResults").of(this.els.tableOuterwrap).transform(function(e){return function(t){return t&&!e.state.loading?"_noResults":""}}(this)),SimplyBind("loading").of(this.state).to("className.isVisible").of(this.els.loadingMessage).transform(function(e){return e?"is_visible":""}).and.to("className.loading").of(this.els.tableOuterwrap).transform(function(e){return function(e){return e?"_loading":""}}(this)).and.to(function(e){return function(t){return t?e.state.noResults=!1:e.state.noResults=!e.visibleRows.length}}(this)),SimplyBind("error").of(this.state).to("textContent.errorMessage").of(this.els.errorMessage).and.to("className.isVisible").of(this.els.errorMessage).transform(function(e){return e?"is_visible":""}).and.to("className.hasError").of(this.els.tableOuterwrap).transform(function(e){return e?"_error":""}),this.options.hasMobile&&(this.windowWidth=window.innerWidth,SimplyBind(0).ofEvent("resize").of(window).to(function(e){return function(){return e.windowWidth=window.innerWidth}}(this)),SimplyBind("windowWidth").of(this).to("className.mobileVersion").of(this.els.tableOuterwrap).transform(function(e){return function(t){return t<=e.options.mobileWidth?"_mobileVersion":""}}(this))),SimplyBind(this.visibleRows).to(function(e){return function(t,s){var a,n,i,r,o,l,u;if(null!=s?s.length:void 0)for(i=0,o=s.length;i<o;i++)u=s[i],u.visible=!1;try{for(r=0,l=t.length;r<l;r++)u=t[r],e.processRow(u),u.visible=!0}catch(t){a=t,e.state.error=a}return e.state.noResults=!t.length}}(this)).and.to(function(e){return function(t){var s,a,n,i;if(e.hasBreakdownBar){for(s=0,n=t.length;s<n;s++)i=t[s],(i.breakdownBarTotal>a||"undefined"==typeof a||null===a)&&(a=i.breakdownBarTotal);return e.largestBreakdownTotal=a||0}}}(this)).and.to("textContent.rowRange").of(this.els.pageStatus).transform(function(e){return function(t){return e.availableRows.indexOf(t[0])+1+"-"+(e.availableRows.indexOf(t.slice(-1)[0])+1)}}(this)),SimplyBind("allRows").of(this).to(function(e){return function(t){return e.searchCriteria="",e.currentPage=1,e.state.noResults=!t.length,e.sortBy===e.options.sortBy?(e.sortBy="",e.sortBy=e.options.sortBy):e.sortBy=""}}(this)),SimplyBind("availableRows",{updateOnBind:!1,updateEvenIfSame:!0}).of(this).to(function(e){return function(t){return e.calcPageCount(t)}}(this)).and.to("textContent.totalRows").of(this.els.pageStatus).transform(function(e){return e.length}),SimplyBind("pageCount").of(this).to("innerHTML").of(this.els.paginationItems).transform(function(e){var t,s,a,i;for(s="",i=t=1,a=e;1<=a?t<=a:t>=a;i=1<=a?++t:--t)0!==i&&(s+=n.paginationItem({value:i}));return s}).and.to("className.isVisible").of(this.els.pagination).transform(function(e){return e>1?"is_visible":""}),SimplyBind("pageCountReal").of(this).to("innerHTML").of(this.els.paginationExtraSelect).transform(function(e){return function(t){var s,a,n,i,r;if(t<=e.options.pageCountMax)return"";for(n="<option>...</option>",a=s=i=e.options.pageCountMax+1,r=t;i<=r?s<=r:s>=r;a=i<=r?++s:--s)n+="<option>"+a+"</option>";return n}}(this)).and.to("className.hasExtra").of(this.els.pagination).transform(function(e){return function(t){return t>e.options.pageCountMax?"has_extra":""}}(this)),SimplyBind("value",{updateOnBind:!1}).of(this.els.paginationExtraSelect).to("innerHTML").of(this.els.paginationExtraText).and.to("currentPage").of(this),SimplyBind("currentPage",{updateEvenIfSame:!0}).of(this).transformSelf(function(e){return function(t){return t="..."===t?1:parseFloat(t),t>e.pageCountReal?e.pageCountReal:t}}(this)).to("value").of(this.els.paginationExtraSelect).transform(function(e){return function(t){return t>e.options.pageCountMax?t:"..."}}(this)).and.to(function(e){return function(t){return e.setVisiblePage(t),e.setPageIndicator(t)}}(this)),this.options.search.length&&(this.searchParam=this.options.search[0],SimplyBind("search").of(this.options).to("innerHTML").of(this.els.searchParam).transform(function(e){return e.map(function(e){return"<option>"+e+"</option>"}).join("")}),SimplyBind("value").of(this.els.searchParam).to("searchParam").of(this).pipe("attr:placeholder").of(this.els.searchCriteria).transform(function(e){return"Search by "+e})),SimplyBind("value").of(this.els.searchCriteria).to("searchCriteria",{updateEvenIfSame:!0}).of(this).bothWays().chainTo(function(e){return function(t){var s,a,n;return a=e.allRows,n=e.options.columns[e.searchParam],t&&(n||null!=(null!=(s=e.allRows[0])?s[e.searchParam]:void 0))&&(a=e.allRows.filter(function(s){var a;return a=(null!=n?n.rawValueFormatter:void 0)?n.rawValueFormatter(s[e.searchParam]):s[e.searchParam],null!=a?a.toString().toLowerCase().includes(t.toLowerCase()):void 0})),e.availableRows=a,e.currentPage=1}}(this)),SimplyBind("sortBy",{updateEvenIfSame:!0,updateOnBind:!1},!0).of(this).to(function(e){return function(t,s){var a;if(t||s)return t===s&&s?e.sortDirection*=-1:e.sortDirection=-1,a=t?t:null,e.availableRows=e.sortRows(e.availableRows,a),e.currentPage=1}}(this)),this.els.tableHeading.children("._isSortable").length&&SimplyBind("sortBy",{updateOnBind:!0}).of(this).to("multi:className.currentSort").of(this.els.tableHeading.children("._isSortable")).transform(function(e,t,s){return e===s.children[0].textContent?"_currentSort":""}),SimplyBind("sortDirection").of(this).to("className.sortDirection").of(this.els.table).transform(function(e){return e===-1?"desc":"asc"}),Promise.resolve()},t.prototype.sortBy=function(e){},t.version="2.6.1",t.helpers=a,t.markup=n,t.defaults=s,window.DataTable=t}(jQuery);
