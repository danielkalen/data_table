/*
 escape-html
 Copyright(c) 2012-2013 TJ Holowaychuk
 Copyright(c) 2015 Andreas Lubbe
 Copyright(c) 2015 Tiancheng "Timothy" Gu
 MIT Licensed
*/
(function(h){var g,r,t,p,m,k;p=function(a){"use strict";var b=Object.prototype.hasOwnProperty,c=Object.prototype.toString,d=function(a){return"function"===typeof Array.isArray?Array.isArray(a):"[object Array]"===c.call(a)},e=function(a){if(!a||"[object Object]"!==c.call(a))return!1;var e=b.call(a,"constructor"),f=a.constructor&&a.constructor.prototype&&b.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!e&&!f)return!1;for(var d in a);return"undefined"===typeof d||b.call(a,d)};return function l(){var a,
b,c,g,k,h=arguments[0],m=1,p=arguments.length,q=!1;if("boolean"===typeof h)q=h,h=arguments[1]||{},m=2;else if("object"!==typeof h&&"function"!==typeof h||null==h)h={};for(;m<p;++m)if(a=arguments[m],null!=a)for(b in a)c=h[b],g=a[b],h!==g&&(q&&g&&(e(g)||(k=d(g)))?(k?(k=!1,c=c&&d(c)?c:[]):c=c&&e(c)?c:{},h[b]=l(q,c,g)):"undefined"!==typeof g&&(h[b]=g));return h}}.call(this,{});t=function(a){"use strict";var b=/["'&<>]/;return a=function(a){a=""+a;var c=b.exec(a);if(!c)return a;var e="",f,l=0;for(f=c.index;f<
a.length;f++){switch(a.charCodeAt(f)){case 34:c="&quot;";break;case 38:c="&amp;";break;case 39:c="&#39;";break;case 60:c="&lt;";break;case 62:c="&gt;";break;default:continue}l!==f&&(e+=a.substring(l,f));l=f+1;e+=c}return l!==f?e+a.substring(l,f):e}}.call(this,{});k={tableOuterwrap:function(a){var b,c;b=a.ID;c=a.baseClass;return"<div id='"+c+"-"+b+"' class='"+c+"-outerwrap {{loading}} {{noResults}} {{hasError}} "+(a.minWidth?"_hasMinWidth":"")+" "+(a.hasMobile?"{{mobileVersion}}":"")+" "+(a.cellsHavePadding?
"_cellsHavePadding":"")+" '></div>"},table:function(a){var b;b=a.baseClass;return"<div class='"+b+" alignment---"+a.alignment+" sortDirection---{{sortDirection}}'> <div class='"+b+"-heading'> <div class='"+b+"-heading-row'></div> </div> <div class='"+b+"-body'></div> </div>"},loading:function(a){a=a.baseClass;return"<div class='"+a+"-loading {{isVisible}}'> <div class='"+a+"-loading-innerwrap'> <div class='"+a+"-loading-icon'></div> <div class='"+a+"-loading-text'>Loading</div> </div> </div>"},noResults:function(a){var b,
c,d,e;b=a.baseClass;c=null!=(d=a.itemSingleLabel)?d:"Item";a=null!=(e=a.itemPluralLabel)?e:c+"s";return"<div class='"+b+"-noResults {{isVisible}}'> <div class='"+b+"-noResults-innerwrap'> <div class='"+b+"-noResults-icon'></div> <div class='"+b+"-noResults-text'> <div class='"+b+"-noResults-text-title'>No "+c+"s to Display</div> <div class='"+b+"-noResults-text-subtitle'>There are no matching "+a+" for the search query you've typed.</div> </div> </div> </div>"},error:function(a){a=a.baseClass;return"<div class='"+
a+"-error {{isVisible}}'> <div class='"+a+"-error-innerwrap'> <div class='"+a+"-error-icon'></div> <div class='"+a+"-error-text'> <div class='"+a+"-error-text-title'>A Fatal Error has Occured</div> <div class='"+a+'-error-text-subtitle\'>Report the following to the admin:<br />"{{errorMessage}}"</div> </div> </div> </div>'},pageStatus:function(a){return"<div class='"+a.baseClass+"-pageStatus "+(a.showPageStatus?"is_visible":"")+"'> Showing {{rowRange}} of {{totalRows}} </div>"},pagination:function(a){a=
a.baseClass;return"<div class='"+a+"-pagination {{hasExtra}} {{isVisible}}'> <div class='"+a+"-pagination-item _paginationItem _back'> <div class='"+a+"-pagination-item-text'></div> </div> <div class='"+a+"-pagination-itemswrap _paginationItems'></div> <div class='"+a+"-pagination-item _paginationItem _extraIndicator'> <div class='"+a+"-pagination-item-text'></div> <select class='"+a+"-pagination-item-select'></select> </div> <div class='"+a+"-pagination-item _paginationItem _next'> <div class='"+
a+"-pagination-item-text'></div> </div> </div>"},paginationItem:function(a){var b;b=a.baseClass;return"<div class='"+b+"-pagination-item _paginationItem'> <div class='"+b+"-pagination-item-text'>"+a.value+"</div> </div>"},headingCell:function(a){var b,c,d,e,f,l;b=a.baseClass;c=null!=(d=a.extraClasses)?d:"";l=a.slug;d=null!=(e=a.icon)?e:"";e=a.label;a=null!=(f=a.style)?f:"";return"<div class='"+b+"-heading-row-cell "+c+" __"+l+"' data-slug='"+l+"' data-icon='"+d+"' "+a+"> <div class='"+b+"-heading-row-cell-text'>"+
e+"</div> </div>"},row:function(a){var b,c,d,e;b=a.baseClass;e=a.rowID;c=a.cells;a=null!=(d=a.drilldown)?d:"";return"<div class='"+b+"-body-row _tableRow {{drilldownState}}' data-row-id='"+e+"'> <div class='"+b+"-body-row-expandDrilldown _expandDrilldown'> <div class='"+b+"-body-row-expandDrilldown-icon'></div> </div> "+c+" <div class='"+b+"-body-row-drilldown _tableRowDrilldown'> "+a+" </div> </div>"},rowCell:function(a){var b,c,d,e,f,l,n;b=a.baseClass;d=null!=(c=a.extraClasses)?c:"";e=a.label;c=
a.column;l=a.slug;n=a.value;a=null!=(f=a.style)?f:"";return"<div class='"+b+"-body-row-cell __"+l+" "+d+"' data-slug='"+l+"' data-column='"+c+"' "+a+"> <div class='"+b+"-body-row-cell-innerwrap' title='"+e+"'>"+n+"</div> </div>"},searchField:function(a){var b;b=a.baseClass;a=a.search;return"<div class='"+b+"-search "+(null!=a&&a.length?"is_visible":"")+"'> <select class='"+b+"-search-select'></select> <input class='"+b+"-search-input' /> <div class='"+b+"-search-selectTrigger'></div> </div>"},ipDetails:function(a){var b,
c,d;b=a.baseClass;c=a.ipAddress;a=null!=(d=a.extra)?d:"";return"<div class='"+b+"-ipDetails _ipDetails' data-ip='"+c+"'> <div class='"+b+"-ipDetails-trigger _ipDetails-trigger'></div> <div class='"+b+"-ipDetails-content'>Loading IP Details</div> </div> "+a},ipDetailsItem:function(a){var b;b=a.baseClass;return"<div class='"+b+"-ipDetails-content-item'> <div class='"+b+"-ipDetails-content-item-label'>"+a.label+": </div> <div class='"+b+"-ipDetails-content-item-value'>"+a.value+"</div> </div>"},fields:function(a){return"<div class='"+
a.baseClass+"-fieldGroup'>"+a.fields+"</div>"},fieldsItem:function(a){var b;b=a.baseClass;return"<div class='"+b+"-fieldGroup-item'> <div class='"+b+"-fieldGroup-item-label'>"+a.label+": </div> <div class='"+b+"-fieldGroup-item-value'>"+t(a.value)+"</div> </div>"},button:function(a){var b,c,d,e;c=a.baseClass;b=a.action;d=null!=(e=a.icon)?e:"";return"<div class='"+c+"-button _actionButton "+(a.isMulti?"_isMulti":"")+"' data-action='"+b+"'> <div class='"+c+"-button-icon'>"+d+"</div> </div>"},actions:function(a){var b;
b=a.baseClass;return"<div class='"+b+"-actions'> <div class='"+b+"-actions-popup'>"+a.actions+"</div> </div>"},actionsOverlay:function(){return"<div class='"+g.defaults.baseClass+"-actions-overlay'></div>"},actionsItem:function(a){var b,c,d,e,f;c=a.baseClass;b=a.action;d=a.icon;e=a.label;a=null!=(f=a.customIconStyle)?f:"";return"<div class='"+c+"-actions-popup-item _actionButton _subActionButton' data-action='"+b+"' style='"+a+"'> <div class='"+c+"-actions-popup-item-icon'>"+d+"</div> <div class='"+
c+"-actions-popup-item-text'>"+e+"</div> </div>"}};m={compareValues:function(a,b){switch(!1){case typeof a!==typeof b:return a===b;case "string"!==typeof a:return a===""+b;case "number"!==typeof a:return a===parseFloat(b)}},toggleActionsPopup:function(a){var b,c;(b=a.data("isOpen"))?(a.data("overlay").remove(),a.removeClass("is_visible")):(a.data("overlay",c=h(k.actionsOverlay())),a.addClass("is_visible"),c.appendTo(document.body).one("click",function(){return m.toggleActionsPopup(a)}));return a.data("isOpen",
!b)},getBreakdownTotal:function(a,b){switch(!1){case 0!==b.length:return 0;default:return b.map(function(b){return a[b]}).reduce(function(a,b){return a+b})}},normalizeColumns:function(a){var b,c,d,e,f;if(Array.isArray(a))if(f={},"string"===typeof a[0])for(b=0,c=a.length;b<c;b++)d=a[b],f[d]={label:d};else{if(null!=(b=a[0])&&b.label)for(c=0,e=a.length;c<e;c++)b=a[c],f[b.label]=b}else f=a;for(d in f)b=f[d],null==b.label&&(b.label=d),null==b.slug&&(b.slug=b.label.toLowerCase().replace(/\W/g,"_")),null==
b.type&&(b.type="text");return f},getBreakdownBarWidth:function(a,b){return a.breakdownBarTotal/b*82},genHeaderCellStyle:function(a){var b;b="";a.width&&(b+="max-width: "+a.width+";");0<=a.grow&&(b+="flex-grow: "+a.grow+";");return b?"style='"+b+"'":""},genCellStyle:function(a){var b,c;c="";a.width&&(c+="max-width: "+a.width+";");a.color&&(b=this.colorMapping(a.color,a.colorType),c+="color: "+b+";");a.customStyle&&(c+=a.customStyle);0<=a.grow&&(c+="flex-grow: "+a.grow+";");return c?"style='"+c+"'":
""},genCellClassname:function(a){var b;b="";a.sortable&&(b+=" _isSortable {{currentSort}}");a.noLabel&&(b+=" _noLabel");a.isLink&&(b+=" _isLink");a.noEllipsis&&(b+=" _noEllipsis");a.showOverflow&&(b+=" _showOverflow");a.color&&(b+=" _hasColor");if("button"===a.type||"actions"===a.type)b+=" _isButton",a.alwaysCenter=!0;"breakdownBar"===a.type&&(b+=" _isBreakdownBar");"ipDetails"===a.type&&(b+=" _isIpDetails");"fields"===a.type&&(b+=" _isFields");a.alwaysCenter&&(b+=" _alwaysCenter");return b},colorMapping:function(a,
b){null==b&&(b="name");switch(b){case "browser":switch(!1){case !a.includes("Firefox"):return this.colorMapping("orange");case !a.includes("Chrome"):return this.colorMapping("green");case !a.includes("Safari"):return this.colorMapping("blue");case !a.includes("Mobile Safari"):return this.colorMapping("blue");case !a.includes("IE"):return this.colorMapping("lightblue");case !a.includes("Edge"):return this.colorMapping("lightblue");case !a.includes("Opera"):return this.colorMapping("red");case !a.includes("Android"):return this.colorMapping("lightgreen");
default:return"unknown"}case "platform":switch(a){case "Mac OS X":return this.colorMapping("black");case "Windows":return this.colorMapping("lightblue");case "Windows Phone":return this.colorMapping("purple");case "Linux":return this.colorMapping("darkyellow");case "iOS":return this.colorMapping("black");case "Android":return this.colorMapping("lightgreen");default:return"unknown"}case "satisfaction":switch(a){case "Excellent":return this.colorMapping("green");case "Normal":return this.colorMapping("yellow");
case "Poor":return this.colorMapping("red");default:return"unknown"}case "name":switch(a){case "orange":return"#ee6f0e";case "green":return"#00ad09";case "blue":return"#4788f3";case "yellow":return"#eab71e";case "red":return"#cc4820";case "black":return"#181818";case "purple":return"#a020ba";case "lightblue":return"#0cb3ee";case "lightgreen":return"#78c257";case "darkyellow":return"#e8ac01"}break;default:return a}},iconMapping:function(a,b){switch(b){case "browser":switch(!1){case !a.includes("Firefox"):return"#";
case !a.includes("Chrome"):return"%";case !a.includes("Safari"):return"$";case !a.includes("Mobile Safari"):return"$";case !a.includes("IE"):return"&";case !a.includes("Edge"):return"&";case !a.includes("Opera"):return'"';case !a.includes("Android"):return"&#039;";default:return"4"}case "device":switch(a){case "Desktop":return"!";case "Tablet":return"7";case "Mobile":return"6";default:return"4"}case "platform":switch(a){case "Mac OS X":return"*";case "Windows":return")";case "Windows Phone":return")";
case "Linux":return"+";case "iOS":return"*";case "Android":return"&#039;";default:return"4"}case "satisfaction":switch(a){case "Excellent":return"[";case "Normal":return"@";case "Poor":return"?";default:return"4"}default:return"4"}}};g=function(a,b){this.container=a;null==b&&(b={});this.options=p({},g.defaults,b);this.state={loading:!0,noResults:!1,error:!1};this.ID=++r;this.tableID="#"+this.options.baseClass+"-"+this.ID;this.visibleRows=[];this.availableRows=[];this.allRows=[];this.largestBreakdownTotal=
0;this.searchParam=this.searchCriteria="";this.sortBy=this.options.sortBy?this.options.sortBy:"";this.sortDirection=-1;this.currentPage=1;this.els={};this.els.tableOuterwrap=h(k.tableOuterwrap(h.extend({ID:this.ID},this.options)));this.els.table=h(k.table(this.options)).appendTo(this.els.tableOuterwrap);this.els.tableHeading=this.els.table.children().first().children();this.els.tableBody=this.els.table.children().last();this.els.noResultsMessage=h(k.noResults(this.options)).appendTo(this.els.tableOuterwrap);
this.els.loadingMessage=h(k.loading(this.options)).appendTo(this.els.tableOuterwrap);this.els.errorMessage=h(k.error(this.options)).appendTo(this.els.tableOuterwrap);this.els.pageStatus=h(k.pageStatus(this.options)).appendTo(this.els.tableOuterwrap);this.els.pagination=h(k.pagination(this.options)).appendTo(this.els.tableOuterwrap);this.els.paginationItems=this.els.pagination.children("._paginationItems");this.els.paginationExtra=this.els.pagination.children("._extraIndicator");this.els.paginationExtraSelect=
this.els.paginationExtra.children("select");this.els.paginationExtraText=this.els.paginationExtraSelect.prev();this.els.searchField=h(k.searchField(this.options)).insertBefore(this.els.table);this.els.searchParam=this.els.searchField.children("select");this.els.searchCriteria=this.els.searchField.children("input");this.els.globalStyles=h("<style />").prependTo(this.els.tableOuterwrap);this.els.tableHeading.append(this.generateHeadingColumns());this.els.tableOuterwrap.appendTo(this.container);this.els.table.data("DataTable",
this);this.options.minWidth&&(this.els.table[0].style.minWidth=this.options.minWidth+"px");Promise.bind(this).then(this.attachEvents).then(this.attachBindings).then(function(){if(this.options.loadOnInit)return this.loadData()});return this};g.prototype.fetchData=function(){this.state.loading=!0;return this.options.data().then(function(a){return function(b){a.state.loading=!1;return Promise.resolve(b)}}(this))["catch"](function(a){return function(b){return a.state.error=b}}(this))};g.prototype.setData=
function(a){if(Array.isArray(a))return this.allRows=a};g.prototype.loadData=function(){var a,b,c,d;if(this.allRows.length)for(c=this.allRows,a=0,b=c.length;a<b;a++)d=c[a],this.unprocessRow(d);return this.fetchData().then(function(a){return function(b){return a.setData(b)}}(this))};g.prototype.markupArgs=function(a){null==a&&(a={});a.baseClass=this.options.baseClass;return a};g.prototype.calcPageCount=function(a){this.pageCountReal=Math.ceil(a.length/this.options.perPage);return this.pageCount=this.pageCountReal>
this.options.pageCountMax?this.options.pageCountMax:this.pageCountReal};g.prototype.calcPercentageString=function(a,b,c){var d,e,f;b=this.options.percentage[b];d=b[0];e=b[2];f=b[1];b=function(){switch(f){case "*":return c[d]*c[e];case "/":return c[d]/c[e];case "+":return c[d]+c[e];case "-":return c[d]-c[e]}}();Infinity===b&&(b=0);b=convertToPercent(b);return a+" ("+b+")"};g.prototype.sortRows=function(a,b){var c,d;null==b&&(b=this.options.sortBy);switch(!1){case "+"!==b:return a;case "-"!==b:return null!=
a?a.slice().reverse():void 0;case !this.options.columns[b]:return c=this.options.columns[b].sortFn,d=this.options.columns[b].rawValueFormatter,a.slice().sort(c||function(a){return function(e,c){var f,l;f=d?d(e[b]):e[b];l=d?d(c[b]):c[b];switch(!1){case !(f>l):return a.sortDirection;case !(f<l):return-1*a.sortDirection;default:return 0}}}(this));default:return a}};g.prototype.setVisiblePage=function(a){var b,c,d,e;a--;e=this.availableRows.slice(a*this.options.perPage,a*this.options.perPage+this.options.perPage);
d=this.visibleRows.slice();a=0;for(b=d.length;a<b;a++)c=d[a],c.visible=!1;this.visibleRows.length=0;return this.visibleRows.push.apply(this.visibleRows,e)};g.prototype.setPageIndicator=function(a){var b;"..."===a&&(a=1);a=a>this.options.pageCountMax?this.options.pageCountMax:a-1;b=this.els.pagination.find("._paginationItem").slice(1,-1);a=b.eq(a);a.addClass("current");return b.not(a).removeClass("current")};g.prototype.generateHeadingColumns=function(){var a,b;this.options.columns=m.normalizeColumns(this.options.columns);
(function(){var c,d;c=this.options.columns;d=[];for(b in c)a=c[b],d.push("breakdownBar"===a.type);return d}).call(this)&&(this.hasBreakdownBar=!0);return Object.keys(this.options.columns).map(function(b){return function(c){a=b.options.columns[c];b.els.globalStyles[0].innerHTML+="{{"+a.slug+"}}\n";return k.headingCell(b.markupArgs({slug:a.slug,icon:a.icon,label:a.label,style:m.genHeaderCellStyle(a),extraClasses:m.genCellClassname(a)}))}}(this)).join("")};g.prototype.updateColumns=function(a){a=m.normalizeColumns(a);
p(!0,this.options.columns,a);return this.currentPage=this.currentPage};g.prototype.processRow=function(a){var b;a.processed||(this.generateRow(a),SimplyBind("visible",{updateEvenIfSame:!0}).of(a).to(function(b){return function(c,e){if(c){if(a.el.appendTo(b.els.tableBody),b.hasBreakdownBar&&!a.updatedBreakdownWidth&&c!==e)return a.breakdownBarWidth=m.getBreakdownBarWidth(a,b.largestBreakdownTotal)}else return a.el.detach()}}(this)),this.hasBreakdownBar&&null!=(b=a.breakdownBarEl)&&b.length&&SimplyBind("largestBreakdownTotal").of(this).to("updatedBreakdownWidth").of(a).transform(function(){return a.visible?
!0:!1}).and.to("breakdownBarWidth").of(a).transform(function(b){return function(){return m.getBreakdownBarWidth(a,b.largestBreakdownTotal)}}(this)).chainTo("width").of(a.breakdownBarEl[0].style).transform(function(a){return a+"%"}).and.to(function(b){return function(){var b,e,f,c,n;n=a.drilldownEls;f=e=0;for(c=n.length;e<c;f=++e)b=n[f],f=m.getBreakdownBarWidth(a.drilldown[f],a.drilldown.largestBreakdownTotal),null!=(b=h(b).children(".is_breakdown_bar").children().children()[0])&&(b.style.width=f+
"%")}}(this)).condition(function(){return a.drilldown}).conditionAll(function(){return a.visible}),a.processed=!0);return a};g.prototype.unprocessRow=function(a){if(a.processed)return SimplyBind.unBindAll(a,!0),this.hasBreakdownBar&&a.breakdownBarEl[0]&&SimplyBind.unBindAll(a.breakdownBarEl[0].style),a.el.remove(),delete a.el,delete a.drilldownEls,delete a.visible,delete a.breakdownBarEl,delete a.processed};g.prototype.reRenderRow=function(a){return this.generateRow(a)};g.prototype.generateRow=function(a){var b,
c;c=a.el;b=a.el=h(this.generateRowMarkup(a)).data("row",a);c&&c.replaceWith(b);a.drilldown&&(a.expandButton=a.el.children().first());a.drilldown&&(a.drilldownEls=a.el.children("._tableRowDrilldown").children());this.hasBreakdownBar&&(a.breakdownBarEl=a.el.children(".isBreakdownBar").children().children());c||(a.visible=!1);a.drilldown&&(this.hasBreakdownBar&&(a.drilldown.largestBreakdownTotal=Math.max.apply(Math,a.drilldown.map(function(a){return a.breakdownBarTotal}))),SimplyBind("drilldownOpen").of(a).to("className.drilldownState").of(a.el).transform(function(a){return a?
"hasDrilldown drilldownIsOpen":"hasDrilldown"}),SimplyBind("visible").of(a).once.to(function(){return SimplyBind(function(){if(!a.drilldownOpen)return setTimeout(function(){var b,e;e=a.el.height();b=a.expandButton.height();return a.expandButton[0].style.top=e/2-b/2+"px"})}).updateOn("event:resize",{throttle:300}).of(window)}).condition(function(a){return a}));return a};g.prototype.generateRowMarkup=function(a,b){var c;c=!!b;return k.row(this.markupArgs({rowID:c?b[this.options.uniqueID]:a[this.options.uniqueID],
drilldown:c?"":a.drilldown?function(b){return function(){var e,c,d,n,g;e="";g=a.drilldown;d=0;for(n=g.length;d<n;d++)c=g[d],e+=b.generateRowMarkup(c,a);return e}}(this)():void 0,cells:function(b){return function(){var e,c,d,n,g;g="";n=b.options.columns;for(d in n)c=n[d],e=a[d],b.options.percentage[d]&&(e=b.calcPercentageString(e,d,a)),g+=k.rowCell(b.markupArgs({label:"string"===typeof e?e:"",column:d,slug:c.slug,extraClasses:m.genCellClassname(c),style:m.genCellStyle(c),value:function(){switch(!1){case "fields"!==
c.type:return b.generateInlineFields(e,a,c);case "ipDetails"!==c.type:return b.generateIpDetails(e,a,c);case "breakdownBar"!==c.type:return b.generateBreakdownBar(e,a,c);case "button"!==c.type:return b.generateButton(c.action||e,c.buttonIcon||c.icon);case "actions"!==c.type:return b.generateActions(c,a,c);case !c.isLink:return"<a href='"+e+"' target='_blank'>"+e+"</a>";default:return c.formatter?c.formatter(e,a,c):e}}()}));return g}}(this)()}))};g.prototype.generateBreakdownBar=function(a,b,c){var d,
e;d=this.legend||Object.keys(a);return(b.breakdownBarTotal=e=this.getBreakdownTotal(a,d))?k.breakdownBar(this.markupArgs({total:e,totalFormatted:c.valueFormat?c.valueFormat(e):e,bars:function(){var b,c,n,g;b="";c=0;for(g=d.length;c<g;c++)n=d[c],n=a[n],b+=k.block_table_body_row_cell_breakdown_bar.replace("{{width}}",n/e*100);return b}(),hoverBox:function(){return k.block_table_body_row_cell_breakdown_hoverbox.replace("{{rows}}",function(){var b;b="";d.forEach(function(e,f){return b+=k.block_table_body_row_cell_breakdown_hoverbox_row.replace("{{color}}",
customColors(f)).replace("{{key}}",e).replace("{{value}}",c.valueFormat?c.valueFormat(a[e]):a[e])});return b})}()})):"N/A"};g.prototype.generateInlineFields=function(a){return k.fields(this.markupArgs({fields:function(b){return function(){var c,d;return"object"!==typeof a?"":function(){var b;b=[];for(c in a)d=a[c],b.push(k.fieldsItem(this.markupArgs({label:c,value:d})));return b}.call(b).join("")}}(this)()}))};g.prototype.generateButton=function(a,b,c){return k.button(this.markupArgs({action:a,icon:b,
isMulti:c}))};g.prototype.generateActions=function(a){var b;null==a.actions&&(a.actions="multiActions");b=this.generateButton(a.actions,a.buttonIcon||a.icon,!0);a=k.actions(this.markupArgs({actions:function(a){return function(){var b;return a.options.actions?function(){var a,c,d,g;d=this.options.actions;g=[];a=0;for(c=d.length;a<c;a++)b=d[a],g.push(k.actionsItem(this.markupArgs(b)));return g}.call(a).join(""):""}}(this)()}));return b+a};g.prototype.generateIpDetails=function(a,b,c){return k.ipDetails(this.markupArgs({ipAddress:a,
extra:"function"===typeof c.extraMarkup?c.extraMarkup(a,b):void 0}))};g.prototype.attachEvents=function(){this.els.pagination.on("click","._paginationItem",function(a){return function(b){var c,d,e;b=h(b.currentTarget);c=b.hasClass("_back");e=b.hasClass("_next");d=b.hasClass("_extraIndicator");if(c){if(1!==a.currentPage)return a.currentPage--}else if(e){if(a.currentPage!==a.pageCountReal)return a.currentPage++}else if(!d)return b=parseFloat(b.children().html()),a.currentPage=b}}(this));this.els.tableHeading.on("click",
"._isSortable",function(a){return function(b){return a.sortBy=b.currentTarget.children[0].textContent}}(this));this.els.tableBody.on("click","._actionButton",function(a){return function(b){var c,d,e;c=h(b.currentTarget);if(c.hasClass("_isMulti"))return m.toggleActionsPopup(c.next().children());d=c.closest("._tableRow");b=c.data("action");e=d.data("row-id");d.data("index");d=e?a.allRows.find(function(b){return m.compareValues(b[a.options.uniqueID],e)}):void 0;null==d&&(d=e);c.hasClass("_subActionButton")&&
m.toggleActionsPopup(c.parent());return a.els.table.trigger("action."+b,d)}}(this));this.els.tableBody.on("click","._expandDrilldown",function(a){return function(a){a=h(a.currentTarget).parent().data("row");return a.drilldownOpen=!a.drilldownOpen}}(this));this.els.tableBody.on("mouseover","._ipDetails-trigger",function(a){return function(b){var c,d,e;d=h(b.currentTarget);e=d.parent();c=d.next();c.next();b=e.data("ip");if(!d.hasClass("_isReady"))return a.options.ipDataFetcher(b).then(function(b){var f,
d,g;if(b)return d=function(){var a;a=[];for(f in b)g=b[f],a.push(k.ipDetailsItem(this.markupArgs({label:f,value:g})));return a}.call(a),c.html(d.join("")),e.addClass("_isReady")})}}(this));return Promise.resolve()};g.prototype.attachBindings=function(){var a,b,c,d;SimplyBind.settings.trackArrayChildren=!1;SimplyBind("noResults").of(this.state).to("className.isVisible").of(this.els.noResultsMessage).transform(function(a){return function(b){return b&&!a.state.loading?"is_visible":""}}(this)).and.to("className.noResults").of(this.els.tableOuterwrap).transform(function(a){return function(b){return b&&
!a.state.loading?"_noResults":""}}(this));SimplyBind("loading").of(this.state).to("className.isVisible").of(this.els.loadingMessage).transform(function(a){return a?"is_visible":""}).and.to("className.loading").of(this.els.tableOuterwrap).transform(function(a){return function(a){return a?"_loading":""}}(this)).and.to(function(a){return function(b){return b?a.state.noResults=!1:a.state.noResults=!a.visibleRows.length}}(this));SimplyBind("error").of(this.state).to("textContent.errorMessage").of(this.els.errorMessage).and.to("className.isVisible").of(this.els.errorMessage).transform(function(a){return a?
"is_visible":""}).and.to("className.hasError").of(this.els.tableOuterwrap).transform(function(a){return a?"_error":""}).and.to(function(a){if(a)return console.error(a)});this.options.hasMobile&&(this.windowWidth=window.innerWidth,SimplyBind("event:resize").of(window).to(function(a){return function(){return a.windowWidth=window.innerWidth}}(this)),SimplyBind("windowWidth").of(this).to("className.mobileVersion").of(this.els.tableOuterwrap).transform(function(a){return function(b){return b<=a.options.mobileWidth?
"_mobileVersion":""}}(this)));d=this.options.columns;b=function(a){return function(b){return SimplyBind("hidden").of(b).to("innerHTML."+b.slug).of(a.els.globalStyles).transform(function(c){return c?a.tableID+" .__"+b.slug+" {display:none}":""})}}(this);for(c in d)a=d[c],b(a);SimplyBind("array:visibleRows").of(this).to(function(a){return function(b,c){var e,d,f,g,l;if(null!=c&&c.length)for(e=0,f=c.length;e<f;e++)l=c[e],l.visible=!1;try{for(d=0,g=b.length;d<g;d++)l=b[d],a.processRow(l),l.visible=!0}catch(u){a.state.error=
u}return a.state.noResults=!b.length}}(this)).and.to(function(a){return function(b){var c,e,d,f;if(a.hasBreakdownBar){c=0;for(d=b.length;c<d;c++)if(f=b[c],f.breakdownBarTotal>e||"undefined"===typeof e||null===e)e=f.breakdownBarTotal;return a.largestBreakdownTotal=e||0}}}(this)).and.to("textContent.rowRange").of(this.els.pageStatus).transform(function(a){return function(b){return a.availableRows.indexOf(b[0])+1+"-"+(a.availableRows.indexOf(b.slice(-1)[0])+1)}}(this));SimplyBind("allRows").of(this).to(function(a){return function(b){a.searchCriteria=
"";a.currentPage=1;a.state.noResults=!b.length;return a.sortBy===a.options.sortBy?(a.sortBy="",a.sortBy=a.options.sortBy):a.sortBy=""}}(this));SimplyBind("availableRows",{updateOnBind:!1,updateEvenIfSame:!0}).of(this).to(function(a){return function(b){return a.calcPageCount(b)}}(this)).and.to("textContent.totalRows").of(this.els.pageStatus).transform(function(a){return a.length});SimplyBind("pageCount").of(this).to("innerHTML").of(this.els.paginationItems).transform(function(a){return function(b){var c,
e,d;e="";for(d=c=1;1<=b?c<=b:c>=b;d=1<=b?++c:--c)0!==d&&(e+=k.paginationItem(a.markupArgs({value:d})));return e}}(this)).and.to("className.isVisible").of(this.els.pagination).transform(function(a){return 1<a?"is_visible":""});SimplyBind("pageCountReal").of(this).to("innerHTML").of(this.els.paginationExtraSelect).transform(function(a){return function(b){var c,e,d,f;if(b<=a.options.pageCountMax)return"";d="<option>...</option>";for(e=c=f=a.options.pageCountMax+1;f<=b?c<=b:c>=b;e=f<=b?++c:--c)d+="<option>"+
e+"</option>";return d}}(this)).and.to("className.hasExtra").of(this.els.pagination).transform(function(a){return function(b){return b>a.options.pageCountMax?"has_extra":""}}(this));SimplyBind("value",{updateOnBind:!1}).of(this.els.paginationExtraSelect).to("innerHTML").of(this.els.paginationExtraText).and.to("currentPage").of(this);SimplyBind("currentPage",{updateEvenIfSame:!0}).of(this).transformSelf(function(a){return function(b){b="..."===b?1:parseFloat(b);return b>a.pageCountReal?a.pageCountReal:
b}}(this)).to("value").of(this.els.paginationExtraSelect).transform(function(a){return function(b){return b>a.options.pageCountMax?b:"..."}}(this)).and.to(function(a){return function(b){a.setVisiblePage(b);return a.setPageIndicator(b)}}(this));this.options.search.length&&(this.searchParam=this.options.search[0],SimplyBind("search").of(this.options).to("innerHTML").of(this.els.searchParam).transform(function(a){return a.map(function(a){return"<option>"+a+"</option>"}).join("")}),SimplyBind("value").of(this.els.searchParam).to("searchParam").of(this).pipe("attr:placeholder").of(this.els.searchCriteria).transform(function(a){return"Search by "+
a}));SimplyBind("value").of(this.els.searchCriteria).to("searchCriteria",{updateEvenIfSame:!0}).of(this).bothWays().chainTo(function(b){return function(c){var d,e,f;e=b.allRows;f=b.options.columns[b.searchParam];c&&(f||null!=(null!=(d=b.allRows[0])?d[b.searchParam]:void 0))&&(e=e.filter(function(a){a=null!=f&&f.rawValueFormatter?f.rawValueFormatter(a[b.searchParam]):a[b.searchParam];return null!=a?a.toString().toLowerCase().includes(c.toLowerCase()):void 0}));b.options.rowFilter&&(e=e.filter(function(c){var e,
d;d=h.extend({},c);c=b.options.columns;for(e in c)a=c[e],a.rawValueFormatter&&(d[e]=a.rawValueFormatter(d[e]));return b.options.rowFilter(d)}));b.availableRows=e;return b.currentPage=1}}(this));SimplyBind("sortBy",{updateEvenIfSame:!0,updateOnBind:!1},!0).of(this).to(function(a){return function(b,c){if(b||c)return a.sortDirection=b===c&&c?-1*a.sortDirection:-1,a.availableRows=a.sortRows(a.availableRows,b?b:null),a.currentPage=1}}(this));this.els.tableHeading.children("._isSortable").length&&SimplyBind("sortBy",
{updateOnBind:!0}).of(this).to("multi:className.currentSort").of(this.els.tableHeading.children("._isSortable")).transform(function(a,b,c){return a===c.children[0].textContent?"_currentSort":""});SimplyBind("sortDirection").of(this).to("className.sortDirection").of(this.els.table).transform(function(a){return-1===a?"desc":"asc"});return Promise.resolve()};g.prototype.sortBy=function(a){};r=0;g.version="2.8.1";g.helpers=m;g.markup=k;g.defaults={perPage:20,pageCountMax:10,minWidth:0,mobileWidth:736,
cellsHavePadding:!1,hasMobile:!0,loadOnInit:!0,columns:[],search:[],percentage:{},baseClass:"DataTable",showPageStatus:!0,sortBy:"",alignment:"left",actions:!1,ipDataFetcher:function(a){return new Promise(function(b){return h.get("http://ipinfo.io/"+a,b,"JSON")})}};return window.DataTable=g})(jQuery);
